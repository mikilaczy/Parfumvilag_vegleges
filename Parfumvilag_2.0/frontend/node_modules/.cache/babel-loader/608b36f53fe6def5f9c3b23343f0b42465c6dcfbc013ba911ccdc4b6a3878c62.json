{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lacmik919\\\\Desktop\\\\Parfumvilag\\\\Parfumvilag_2.0\\\\frontend\\\\src\\\\pages\\\\Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport PerfumeCard from '../components/PerfumeCard';\nimport '../style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Search = () => {\n  _s();\n  const [perfumes, setPerfumes] = useState([]); // Az összes parfüm\n  const [filteredPerfumes, setFilteredPerfumes] = useState([]); // Szűrt parfümök\n  const [searchTerm, setSearchTerm] = useState(''); // Keresési kifejezés\n  const [maxPrice, setMaxPrice] = useState(100000); // Maximális ár\n  const [selectedBrands, setSelectedBrands] = useState([]); // Kiválasztott márkák\n  const [selectedCategories, setSelectedCategories] = useState([]); // Kiválasztott kategóriák\n  const [selectedScents, setSelectedScents] = useState([]); // Kiválasztott illatok\n  const [error, setError] = useState(''); // Hibaüzenet\n  const [suggestions, setSuggestions] = useState([]); // Gyors javaslatok\n  const [showAllBrands, setShowAllBrands] = useState(false); // Márkák teljes listájának mutatása\n\n  useEffect(() => {\n    const fetchPerfumes = async () => {\n      try {\n        const response = await axios.get('/api/perfumes');\n        // Ellenőrizzük, hogy a válasz formátuma megfelelő-e\n        if (Array.isArray(response.data)) {\n          setPerfumes(response.data);\n          setFilteredPerfumes(response.data); // Alapértelmezésként az összes parfüm\n        } else {\n          setError('A parfümök adatai nem megfelelő formátumban érkeztek.');\n          setPerfumes([]);\n          setFilteredPerfumes([]);\n        }\n      } catch (err) {\n        setError('Nem sikerült betölteni a parfümöket.');\n        console.error(err);\n        setPerfumes([]);\n        setFilteredPerfumes([]);\n      }\n    };\n    fetchPerfumes();\n  }, []);\n  useEffect(() => {\n    if (searchTerm.trim() === '') {\n      setSuggestions([]); // Ha üres a keresési kifejezés, töröljük a javaslatokat\n      return;\n    }\n    // Javaslatok szűrése – csak azokat mutatjuk, amelyek még nincsenek a szűrt listában\n    const filteredSuggestions = perfumes.filter(perfume => {\n      var _perfume$name, _perfume$brand;\n      const matchesSearch = ((_perfume$name = perfume.name) === null || _perfume$name === void 0 ? void 0 : _perfume$name.toLowerCase().includes(searchTerm.toLowerCase())) || ((_perfume$brand = perfume.brand) === null || _perfume$brand === void 0 ? void 0 : _perfume$brand.toLowerCase().includes(searchTerm.toLowerCase()));\n      const isNotInFiltered = !filteredPerfumes.some(p => p.id === perfume.id);\n      return matchesSearch && isNotInFiltered;\n    }).slice(0, 5); // Maximum 5 javaslat\n    setSuggestions(filteredSuggestions);\n  }, [searchTerm, perfumes, filteredPerfumes]);\n  const applyFilters = () => {\n    if (!perfumes.length) {\n      setError('Nincsenek betöltve parfümök a szűréshez.');\n      setFilteredPerfumes([]);\n      return;\n    }\n    const filtered = perfumes.filter(perfume => {\n      var _perfume$name2, _perfume$brand2;\n      // Biztosítjuk, hogy minden mező létezik, és kezeljük az esetleges null/undefined értékeket\n      const name = ((_perfume$name2 = perfume.name) === null || _perfume$name2 === void 0 ? void 0 : _perfume$name2.toLowerCase()) || '';\n      const brand = ((_perfume$brand2 = perfume.brand) === null || _perfume$brand2 === void 0 ? void 0 : _perfume$brand2.toLowerCase()) || '';\n      const price = perfume.price || 0;\n      const category = perfume.category || '';\n      const notes = perfume.notes || [];\n      const matchesSearch = searchTerm === '' || name.includes(searchTerm.toLowerCase()) || brand.includes(searchTerm.toLowerCase());\n      const matchesPrice = price <= maxPrice;\n      const matchesBrand = selectedBrands.length === 0 || selectedBrands.some(b => brand === b.toLowerCase());\n      const matchesCategory = selectedCategories.length === 0 || selectedCategories.some(c => category === c);\n      const matchesScents = selectedScents.length === 0 || selectedScents.some(scent => notes.includes(scent));\n      return matchesSearch && matchesPrice && matchesBrand && matchesCategory && matchesScents;\n    });\n    setFilteredPerfumes(filtered); // Frissítjük a szűrt parfümöket\n    setSuggestions([]); // Töröljük a javaslatokat szűrés után\n    setError(''); // Töröljük a korábbi hibát\n  };\n  const resetFilters = () => {\n    setSearchTerm('');\n    setMaxPrice(100000);\n    setSelectedBrands([]);\n    setSelectedCategories([]);\n    setSelectedScents([]);\n    setFilteredPerfumes(perfumes); // Visszaállítjuk az összes parfümre\n    setSuggestions([]); // Töröljük a javaslatokat\n    setError(''); // Töröljük a hibát\n  };\n  const handleSuggestionClick = perfume => {\n    setSearchTerm(perfume.name || ''); // Biztosítjuk, hogy létezik a név\n    setFilteredPerfumes([perfume]); // Csak az adott parfümöt mutatjuk\n    setSuggestions([]); // Töröljük a javaslatokat\n  };\n  const toggleShowAllBrands = () => {\n    setShowAllBrands(!showAllBrands);\n  };\n  const brands = ['Chanel', 'Dior', 'Gucci', 'Armani', 'Versace', 'Brand1', 'Brand2', 'Brand3', 'Brand4', 'Brand5'];\n  const categories = ['Női', 'Férfi', 'Unisex'];\n  const scents = ['Virágos', 'Fás', 'Orientális', 'Friss', 'Citrusos'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"search-title text-center\",\n        children: \"Parf\\xFCm Keres\\u0151\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"search-subtitle text-center\",\n        children: \"Tal\\xE1ld meg az ide\\xE1lis parf\\xFCm\\xF6t aj\\xE1nl\\xE1sainkkal \\xE9s \\xE1r\\xF6sszehasonl\\xEDt\\xE1sainkkal!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            onKeyUp: e => e.key === 'Enter' && applyFilters(),\n            placeholder: \"Keres\\xE9s...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"suggestions-list\",\n            children: suggestions.map(perfume => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item\",\n              onClick: () => handleSuggestionClick(perfume),\n              children: [perfume.name, \" (\", perfume.brand, \")\"]\n            }, perfume.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"M\\xE1rk\\xE1k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-peach\",\n            onClick: toggleShowAllBrands,\n            children: showAllBrands ? 'Kevesebb mutatás' : 'Több mutatás'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxHeight: showAllBrands ? 'none' : '100px',\n              overflowY: 'auto'\n            },\n            children: brands.slice(0, showAllBrands ? brands.length : 5).map(brand => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-check\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"form-check-input\",\n                checked: selectedBrands.includes(brand),\n                onChange: e => {\n                  const checked = e.target.checked;\n                  setSelectedBrands(prev => checked ? [...prev, brand] : prev.filter(b => b !== brand));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-check-label\",\n                children: brand\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this)]\n            }, brand, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Kateg\\xF3ria\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-check\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              className: \"form-check-input\",\n              checked: selectedCategories.includes(category),\n              onChange: e => {\n                const checked = e.target.checked;\n                setSelectedCategories(prev => checked ? [...prev, category] : prev.filter(c => c !== category));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-check-label\",\n              children: category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this)]\n          }, category, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Illat t\\xEDpus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), scents.map(scent => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-check\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              className: \"form-check-input\",\n              checked: selectedScents.includes(scent),\n              onChange: e => {\n                const checked = e.target.checked;\n                setSelectedScents(prev => checked ? [...prev, scent] : prev.filter(s => s !== scent));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-check-label\",\n              children: scent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, scent, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Max. \\xE1r (Ft)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            className: \"form-range\",\n            min: \"0\",\n            max: \"100000\",\n            value: maxPrice,\n            onChange: e => setMaxPrice(parseInt(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-value\",\n            children: [new Intl.NumberFormat('hu-HU').format(maxPrice), \" Ft\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex gap-2 mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-peach\",\n            onClick: applyFilters,\n            children: \"Sz\\u0171r\\xE9s alkalmaz\\xE1sa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-peach\",\n            onClick: resetFilters,\n            children: \"Sz\\u0171r\\u0151k t\\xF6rl\\xE9se\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"active-filters mt-3\",\n          children: [selectedBrands.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"M\\xE1rk\\xE1k: \", selectedBrands.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 43\n          }, this), selectedCategories.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Kateg\\xF3ri\\xE1k: \", selectedCategories.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 47\n          }, this), selectedScents.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Illatok: \", selectedScents.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 43\n          }, this), maxPrice !== 100000 && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Max. \\xE1r: \", new Intl.NumberFormat('hu-HU').format(maxPrice), \" Ft\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"results-title text-center mt-5\",\n        children: [\"Tal\\xE1latok (\", filteredPerfumes.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger text-center\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 19\n      }, this), filteredPerfumes.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row g-4 perfume-cards-container\",\n        children: filteredPerfumes.map(perfume => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-4 col-md-6 col-12\",\n          children: /*#__PURE__*/_jsxDEV(PerfumeCard, {\n            perfume: perfume\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this)\n        }, perfume.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"noResults\",\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-search fa-3x mb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Nincs tal\\xE1lat a keres\\xE9si felt\\xE9teleknek megfelel\\u0151en.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Pr\\xF3b\\xE1lj meg kevesebb vagy m\\xE1s sz\\u0171r\\u0151felt\\xE9telt be\\xE1ll\\xEDtani.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quick-suggestions-section mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title text-center mb-5\",\n          children: \"Gyors aj\\xE1nl\\xE1sok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row g-4\",\n          children: ['Chanel No. 5', 'Dior Sauvage', 'Gucci Bloom', 'Armani Code', 'Versace Eros'].map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-4 col-md-6 col-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestion-card\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"card-title\",\n                  children: suggestion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-text\",\n                  children: \"Kattints a keres\\xE9shez \\xE9s fedezd fel az aj\\xE1nl\\xE1sokat!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/perfume/${suggestion.toLowerCase().replace(/\\s+/g, '-')}`,\n                  className: \"btn btn-peach perfume-card-btn mt-2\",\n                  children: \"Tov\\xE1bb az oldalra\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n};\n_s(Search, \"OK9/Jsftx08GRdp8JPJVTMKPGbw=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","Link","axios","PerfumeCard","jsxDEV","_jsxDEV","Search","_s","perfumes","setPerfumes","filteredPerfumes","setFilteredPerfumes","searchTerm","setSearchTerm","maxPrice","setMaxPrice","selectedBrands","setSelectedBrands","selectedCategories","setSelectedCategories","selectedScents","setSelectedScents","error","setError","suggestions","setSuggestions","showAllBrands","setShowAllBrands","fetchPerfumes","response","get","Array","isArray","data","err","console","trim","filteredSuggestions","filter","perfume","_perfume$name","_perfume$brand","matchesSearch","name","toLowerCase","includes","brand","isNotInFiltered","some","p","id","slice","applyFilters","length","filtered","_perfume$name2","_perfume$brand2","price","category","notes","matchesPrice","matchesBrand","b","matchesCategory","c","matchesScents","scent","resetFilters","handleSuggestionClick","toggleShowAllBrands","brands","categories","scents","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","onKeyUp","key","placeholder","map","onClick","style","maxHeight","overflowY","checked","prev","s","min","max","parseInt","Intl","NumberFormat","format","join","suggestion","index","to","replace","_c","$RefreshReg$"],"sources":["C:/Users/lacmik919/Desktop/Parfumvilag/Parfumvilag_2.0/frontend/src/pages/Search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport PerfumeCard from '../components/PerfumeCard';\r\nimport '../style.css';\r\n\r\nconst Search = () => {\r\n  const [perfumes, setPerfumes] = useState([]); // Az összes parfüm\r\n  const [filteredPerfumes, setFilteredPerfumes] = useState([]); // Szűrt parfümök\r\n  const [searchTerm, setSearchTerm] = useState(''); // Keresési kifejezés\r\n  const [maxPrice, setMaxPrice] = useState(100000); // Maximális ár\r\n  const [selectedBrands, setSelectedBrands] = useState([]); // Kiválasztott márkák\r\n  const [selectedCategories, setSelectedCategories] = useState([]); // Kiválasztott kategóriák\r\n  const [selectedScents, setSelectedScents] = useState([]); // Kiválasztott illatok\r\n  const [error, setError] = useState(''); // Hibaüzenet\r\n  const [suggestions, setSuggestions] = useState([]); // Gyors javaslatok\r\n  const [showAllBrands, setShowAllBrands] = useState(false); // Márkák teljes listájának mutatása\r\n\r\n  useEffect(() => {\r\n    const fetchPerfumes = async () => {\r\n      try {\r\n        const response = await axios.get('/api/perfumes');\r\n        // Ellenőrizzük, hogy a válasz formátuma megfelelő-e\r\n        if (Array.isArray(response.data)) {\r\n          setPerfumes(response.data);\r\n          setFilteredPerfumes(response.data); // Alapértelmezésként az összes parfüm\r\n        } else {\r\n          setError('A parfümök adatai nem megfelelő formátumban érkeztek.');\r\n          setPerfumes([]);\r\n          setFilteredPerfumes([]);\r\n        }\r\n      } catch (err) {\r\n        setError('Nem sikerült betölteni a parfümöket.');\r\n        console.error(err);\r\n        setPerfumes([]);\r\n        setFilteredPerfumes([]);\r\n      }\r\n    };\r\n    fetchPerfumes();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchTerm.trim() === '') {\r\n      setSuggestions([]); // Ha üres a keresési kifejezés, töröljük a javaslatokat\r\n      return;\r\n    }\r\n    // Javaslatok szűrése – csak azokat mutatjuk, amelyek még nincsenek a szűrt listában\r\n    const filteredSuggestions = perfumes\r\n      .filter((perfume) => {\r\n        const matchesSearch = \r\n          perfume.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n          perfume.brand?.toLowerCase().includes(searchTerm.toLowerCase());\r\n        const isNotInFiltered = !filteredPerfumes.some((p) => p.id === perfume.id);\r\n        return matchesSearch && isNotInFiltered;\r\n      })\r\n      .slice(0, 5); // Maximum 5 javaslat\r\n    setSuggestions(filteredSuggestions);\r\n  }, [searchTerm, perfumes, filteredPerfumes]);\r\n\r\n  const applyFilters = () => {\r\n    if (!perfumes.length) {\r\n      setError('Nincsenek betöltve parfümök a szűréshez.');\r\n      setFilteredPerfumes([]);\r\n      return;\r\n    }\r\n\r\n    const filtered = perfumes.filter((perfume) => {\r\n      // Biztosítjuk, hogy minden mező létezik, és kezeljük az esetleges null/undefined értékeket\r\n      const name = perfume.name?.toLowerCase() || '';\r\n      const brand = perfume.brand?.toLowerCase() || '';\r\n      const price = perfume.price || 0;\r\n      const category = perfume.category || '';\r\n      const notes = perfume.notes || [];\r\n\r\n      const matchesSearch = \r\n        searchTerm === '' ||\r\n        name.includes(searchTerm.toLowerCase()) ||\r\n        brand.includes(searchTerm.toLowerCase());\r\n\r\n      const matchesPrice = price <= maxPrice;\r\n\r\n      const matchesBrand = selectedBrands.length === 0 || \r\n        selectedBrands.some((b) => brand === b.toLowerCase());\r\n\r\n      const matchesCategory = selectedCategories.length === 0 || \r\n        selectedCategories.some((c) => category === c);\r\n\r\n      const matchesScents = selectedScents.length === 0 || \r\n        selectedScents.some((scent) => notes.includes(scent));\r\n\r\n      return matchesSearch && matchesPrice && matchesBrand && matchesCategory && matchesScents;\r\n    });\r\n\r\n    setFilteredPerfumes(filtered); // Frissítjük a szűrt parfümöket\r\n    setSuggestions([]); // Töröljük a javaslatokat szűrés után\r\n    setError(''); // Töröljük a korábbi hibát\r\n  };\r\n\r\n  const resetFilters = () => {\r\n    setSearchTerm('');\r\n    setMaxPrice(100000);\r\n    setSelectedBrands([]);\r\n    setSelectedCategories([]);\r\n    setSelectedScents([]);\r\n    setFilteredPerfumes(perfumes); // Visszaállítjuk az összes parfümre\r\n    setSuggestions([]); // Töröljük a javaslatokat\r\n    setError(''); // Töröljük a hibát\r\n  };\r\n\r\n  const handleSuggestionClick = (perfume) => {\r\n    setSearchTerm(perfume.name || ''); // Biztosítjuk, hogy létezik a név\r\n    setFilteredPerfumes([perfume]); // Csak az adott parfümöt mutatjuk\r\n    setSuggestions([]); // Töröljük a javaslatokat\r\n  };\r\n\r\n  const toggleShowAllBrands = () => {\r\n    setShowAllBrands(!showAllBrands);\r\n  };\r\n\r\n  const brands = [\r\n    'Chanel',\r\n    'Dior',\r\n    'Gucci',\r\n    'Armani',\r\n    'Versace',\r\n    'Brand1',\r\n    'Brand2',\r\n    'Brand3',\r\n    'Brand4',\r\n    'Brand5',\r\n  ];\r\n  const categories = ['Női', 'Férfi', 'Unisex'];\r\n  const scents = ['Virágos', 'Fás', 'Orientális', 'Friss', 'Citrusos'];\r\n\r\n  return (\r\n    <div className=\"search-page\">\r\n      <div className=\"container my-5\">\r\n        <h1 className=\"search-title text-center\">Parfüm Kereső</h1>\r\n        <p className=\"search-subtitle text-center\">\r\n          Találd meg az ideális parfümöt ajánlásainkkal és árösszehasonlításainkkal!\r\n        </p>\r\n\r\n        <div className=\"search-container\">\r\n          <div className=\"search-input-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              onKeyUp={(e) => e.key === 'Enter' && applyFilters()}\r\n              placeholder=\"Keresés...\"\r\n            />\r\n            {suggestions.length > 0 && (\r\n              <ul className=\"suggestions-list\">\r\n                {suggestions.map((perfume) => (\r\n                  <li key={perfume.id} className=\"list-group-item\" onClick={() => handleSuggestionClick(perfume)}>\r\n                    {perfume.name} ({perfume.brand})\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"filter-section\">\r\n            <h5>Márkák</h5>\r\n            <button className=\"btn btn-outline-peach\" onClick={toggleShowAllBrands}>\r\n              {showAllBrands ? 'Kevesebb mutatás' : 'Több mutatás'}\r\n            </button>\r\n            <div style={{ maxHeight: showAllBrands ? 'none' : '100px', overflowY: 'auto' }}>\r\n              {brands.slice(0, showAllBrands ? brands.length : 5).map((brand) => (\r\n                <div key={brand} className=\"form-check\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"form-check-input\"\r\n                    checked={selectedBrands.includes(brand)}\r\n                    onChange={(e) => {\r\n                      const checked = e.target.checked;\r\n                      setSelectedBrands((prev) =>\r\n                        checked ? [...prev, brand] : prev.filter((b) => b !== brand)\r\n                      );\r\n                    }}\r\n                  />\r\n                  <label className=\"form-check-label\">{brand}</label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"filter-section\">\r\n            <h5>Kategória</h5>\r\n            {categories.map((category) => (\r\n              <div key={category} className=\"form-check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-check-input\"\r\n                  checked={selectedCategories.includes(category)}\r\n                  onChange={(e) => {\r\n                    const checked = e.target.checked;\r\n                    setSelectedCategories((prev) =>\r\n                      checked ? [...prev, category] : prev.filter((c) => c !== category)\r\n                    );\r\n                  }}\r\n                />\r\n                <label className=\"form-check-label\">{category}</label>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"filter-section\">\r\n            <h5>Illat típus</h5>\r\n            {scents.map((scent) => (\r\n              <div key={scent} className=\"form-check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-check-input\"\r\n                  checked={selectedScents.includes(scent)}\r\n                  onChange={(e) => {\r\n                    const checked = e.target.checked;\r\n                    setSelectedScents((prev) =>\r\n                      checked ? [...prev, scent] : prev.filter((s) => s !== scent)\r\n                    );\r\n                  }}\r\n                />\r\n                <label className=\"form-check-label\">{scent}</label>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"filter-section\">\r\n            <h5>Max. ár (Ft)</h5>\r\n            <input\r\n              type=\"range\"\r\n              className=\"form-range\"\r\n              min=\"0\"\r\n              max=\"100000\"\r\n              value={maxPrice}\r\n              onChange={(e) => setMaxPrice(parseInt(e.target.value))}\r\n            />\r\n            <div className=\"price-value\">\r\n              {new Intl.NumberFormat('hu-HU').format(maxPrice)} Ft\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"d-flex gap-2 mt-3\">\r\n            <button className=\"btn btn-peach\" onClick={applyFilters}>\r\n              Szűrés alkalmazása\r\n            </button>\r\n            <button className=\"btn btn-outline-peach\" onClick={resetFilters}>\r\n              Szűrők törlése\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"active-filters mt-3\">\r\n            {selectedBrands.length > 0 && <p>Márkák: {selectedBrands.join(', ')}</p>}\r\n            {selectedCategories.length > 0 && <p>Kategóriák: {selectedCategories.join(', ')}</p>}\r\n            {selectedScents.length > 0 && <p>Illatok: {selectedScents.join(', ')}</p>}\r\n            {maxPrice !== 100000 && <p>Max. ár: {new Intl.NumberFormat('hu-HU').format(maxPrice)} Ft</p>}\r\n          </div>\r\n        </div>\r\n\r\n        <h2 className=\"results-title text-center mt-5\">Találatok ({filteredPerfumes.length})</h2>\r\n        {error && <div className=\"alert alert-danger text-center\">{error}</div>}\r\n        {filteredPerfumes.length > 0 ? (\r\n          <div className=\"row g-4 perfume-cards-container\">\r\n            {filteredPerfumes.map((perfume) => (\r\n              <div key={perfume.id} className=\"col-lg-4 col-md-6 col-12\">\r\n                <PerfumeCard perfume={perfume} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div id=\"noResults\" className=\"text-center\">\r\n            <i className=\"fas fa-search fa-3x mb-3\"></i>\r\n            <h4>Nincs találat a keresési feltételeknek megfelelően.</h4>\r\n            <p>Próbálj meg kevesebb vagy más szűrőfeltételt beállítani.</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"quick-suggestions-section mt-5\">\r\n          <h2 className=\"section-title text-center mb-5\">Gyors ajánlások</h2>\r\n          <div className=\"row g-4\">\r\n            {['Chanel No. 5', 'Dior Sauvage', 'Gucci Bloom', 'Armani Code', 'Versace Eros'].map((suggestion, index) => (\r\n              <div key={index} className=\"col-lg-4 col-md-6 col-12\">\r\n                <div className=\"suggestion-card\">\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{suggestion}</h5>\r\n                    <p className=\"card-text\">Kattints a kereséshez és fedezd fel az ajánlásokat!</p>\r\n                    <Link\r\n                      to={`/perfume/${suggestion.toLowerCase().replace(/\\s+/g, '-')}`}\r\n                      className=\"btn btn-peach perfume-card-btn mt-2\"\r\n                    >\r\n                      Tovább az oldalra\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}