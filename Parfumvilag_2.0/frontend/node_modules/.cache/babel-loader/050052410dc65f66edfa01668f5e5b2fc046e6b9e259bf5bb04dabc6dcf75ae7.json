{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KomPhone\\\\Desktop\\\\Parfumvilag2.0\\\\Parfumvilag_2.0\\\\frontend\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getUser, updateUser } from \"../services/userService\";\nimport { AuthContext } from \"../App\";\n// Ellenőrizd az import útvonalát! Létezik ez a kép ezen a helyen?\nimport placeholderImage from \"../assets/placeholder.png\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    isLoggedIn,\n    user: contextUser,\n    login: contextLogin,\n    logout: contextLogout\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  // --- State Definitions ---\n  const [user, setUser] = useState(contextUser || null); // Kezdőérték a kontextusból\n  const [loading, setLoading] = useState(!contextUser); // Csak akkor tölt, ha nincs user a kontextusban\n  const [updateLoading, setUpdateLoading] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [updateError, setUpdateError] = useState(\"\");\n  const [validationErrors, setValidationErrors] = useState({});\n  const [updateSuccess, setUpdateSuccess] = useState(\"\");\n\n  // Form state\n  const [newName, setNewName] = useState(\"\");\n  const [newEmail, setNewEmail] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [imageUrl, setImageUrl] = useState(\"\"); // Input mező értéke\n  const [profileImage, setProfileImage] = useState(\"\"); // Megjelenített kép src\n\n  // --- Initialize Form ---\n  // useCallback hasznos lehet, ha propként adnánk tovább, de itt nem létfontosságú\n  const initializeForm = userData => {\n    if (!userData) {\n      console.warn(\"[initializeForm] No user data provided.\");\n      return;\n    }\n    console.log(\"[initializeForm] Initializing form. UserData Profile URL:\", userData.profile_picture_url); // Logoljuk a bejövőt\n    setNewName(userData.name || \"\");\n    setNewEmail(userData.email || \"\");\n    setPhoneNumber(userData.phone || \"\");\n    const currentImageUrl = userData.profile_picture_url || \"\"; // Default to empty string if null/undefined\n    setImageUrl(currentImageUrl); // Input mező szinkronizálása\n    setProfileImage(currentImageUrl); // Megjelenített kép szinkronizálása\n    console.log(`[initializeForm] Set profileImage state to: '${currentImageUrl}'`); // Logoljuk a beállított értéket\n    setNewPassword(\"\");\n    setValidationErrors({});\n    setUpdateError(\"\");\n    setUpdateSuccess(\"\");\n  };\n\n  // --- Fetch User ---\n  // Ez a függvény felelős a felhasználói adatok lekéréséért\n  const fetchUser = useCallback(async () => {\n    if (!isLoggedIn) return; // Ne tegyen semmit, ha nincs bejelentkezve\n    console.log(\"[fetchUser] Fetching user data...\");\n    setLoading(true);\n    setError(\"\");\n    try {\n      const userData = await getUser(); // Service hívása\n      if (!userData) throw new Error(\"Nem érkeztek felhasználói adatok.\");\n      console.log(\"[fetchUser] User data received:\", userData);\n\n      // Állapotok frissítése a kapott adatokkal\n      setUser(userData);\n      contextLogin(userData, localStorage.getItem(\"token\")); // Kontextus frissítése\n      initializeForm(userData); // Form inicializálása a friss adatokkal\n    } catch (err) {\n      var _err$message, _err$response, _err$response2, _err$response2$data, _err$response2$data$e;\n      console.error(\"[fetchUser] Error fetching user:\", err);\n      setError(err.message || \"Profil betöltési hiba.\");\n      // Ha a hiba jogosultsági probléma (pl. lejárt token), kijelentkeztetés\n      if ((_err$message = err.message) !== null && _err$message !== void 0 && _err$message.includes(\"hitelesít\") || ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401 || (_err$response2 = err.response) !== null && _err$response2 !== void 0 && (_err$response2$data = _err$response2.data) !== null && _err$response2$data !== void 0 && (_err$response2$data$e = _err$response2$data.error) !== null && _err$response2$data$e !== void 0 && _err$response2$data$e.includes(\"Token\")) {\n        console.warn(\"[fetchUser] Auth error detected, logging out.\");\n        contextLogout();\n        navigate(\"/bejelentkezes\");\n      }\n    } finally {\n      setLoading(false); // Betöltés befejezése\n    }\n  }, [isLoggedIn, contextLogin, contextLogout, navigate]); // Függőségek\n\n  // --- Initial Load Effect ---\n  // Csak akkor fusson le, ha a bejelentkezési állapot megváltozik,\n  // vagy ha még nincs user adat és nem is töltődik éppen.\n  useEffect(() => {\n    if (isLoggedIn && !user && !loading) {\n      fetchUser();\n    } else if (user && !loading && !editing) {\n      // Ha már van user és nem szerkesztünk, győződjünk meg róla, hogy a form szinkronban van\n      initializeForm(user);\n    } else if (!isLoggedIn && !loading) {\n      // Ha nincs bejelentkezve (és nem tölt), irányítsuk a login oldalra\n      navigate(\"/bejelentkezes\");\n    }\n  }, [isLoggedIn, user, loading, editing, fetchUser, initializeForm, navigate]);\n\n  // --- Validation ---\n  const validateForm = useCallback(() => {\n    const errors = {};\n    if (!newName.trim()) errors.name = \"Név megadása kötelező!\";\n    if (!newEmail.trim()) {\n      errors.email = \"Email cím megadása kötelező!\";\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(newEmail)) {\n      errors.email = \"Érvénytelen email cím formátum!\";\n    }\n    if (newPassword && newPassword.length < 6) {\n      errors.password = \"Jelszó min. 6 karakter!\";\n    }\n    // Telefonszám validálás (opcionális, lehet lazább)\n    // if (phoneNumber && phoneNumber.trim() && !/^\\+?[0-9\\s-()]{7,}$/.test(phoneNumber)) {\n    //   errors.phoneNumber = 'Érvénytelen telefonszám formátum!';\n    // }\n    const trimmedImageUrl = imageUrl.trim();\n    // URL validálás (opcionális, lehet lazább, csak http/https kezdetet néz)\n    if (trimmedImageUrl && !trimmedImageUrl.startsWith(\"http://\") && !trimmedImageUrl.startsWith(\"https://\")) {\n      errors.imageUrl = \"Érvénytelen URL (http:// vagy https:// kellene)!\";\n    }\n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  }, [newName, newEmail, newPassword, phoneNumber, imageUrl]);\n\n  // --- Handle Update ---\n  const handleEdit = async e => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    setUpdateLoading(true);\n    setUpdateError(\"\");\n    setUpdateSuccess(\"\");\n    setValidationErrors({});\n    const dataToUpdate = {\n      name: newName.trim(),\n      email: newEmail.trim(),\n      phone: phoneNumber.trim() || null,\n      // Küldj null-t, ha üres\n      profile_picture_url: imageUrl.trim() || null // Küldj null-t, ha üres\n    };\n    if (newPassword.trim()) {\n      dataToUpdate.password = newPassword.trim(); // Csak akkor küldjük, ha nem üres\n    }\n    try {\n      console.log(\"[handleEdit] Calling updateUser with:\", dataToUpdate);\n      const response = await updateUser(dataToUpdate); // Service hívása\n\n      if (response && response.success && response.user) {\n        console.log(\"[handleEdit] Update successful. Received user:\", response.user);\n        // Frissítjük a lokális és globális állapotot a backend által visszaküldött adatokkal\n        setUser(response.user);\n        contextLogin(response.user, localStorage.getItem(\"token\"));\n        initializeForm(response.user); // Form resetelése az új adatokkal\n        setEditing(false); // Kilépés a szerkesztő módból\n        setUpdateSuccess(\"Adatok sikeresen frissítve!\");\n        setTimeout(() => setUpdateSuccess(\"\"), 4000); // Üzenet eltüntetése\n      } else {\n        throw new Error((response === null || response === void 0 ? void 0 : response.error) || \"Ismeretlen hiba a frissítés után.\");\n      }\n    } catch (err) {\n      console.error(\"[handleEdit] Error during update:\", err);\n      // Backend hibaüzenet megjelenítése, ha van\n      setUpdateError(err.message || \"Hiba történt a mentés során.\");\n      // Kezelhetnénk itt specifikus backend validációs hibákat is, ha a backend küldene olyat\n      // pl. if (err.response?.data?.errors) setValidationErrors(err.response.data.errors);\n    } finally {\n      console.log(\"[handleEdit] Setting updateLoading to false.\");\n      setUpdateLoading(false); // <<< Loading state kikapcsolása MINDENKÉPPEN\n    }\n  };\n\n  // --- Logout ---\n  const handleLogout = () => {\n    if (window.confirm(\"Biztosan ki szeretne lépni?\")) {\n      contextLogout();\n      navigate(\"/\"); // Kezdőlapra vagy loginra irányítás\n    }\n  };\n\n  // --- Cancel Edit ---\n  const handleCancelEdit = () => {\n    setEditing(false);\n    if (user) {\n      initializeForm(user);\n    } // Form visszaállítása az eredeti user adatokra\n    setUpdateError(\"\");\n    setValidationErrors({});\n    setUpdateSuccess(\"\");\n  };\n\n  // --- Image Error Handler ---\n  const handleImageError = useCallback(e => {\n    console.warn(\"Image onError triggered. Current profileImage state:\", profileImage, \"Setting to placeholder.\");\n    // Próbáljuk meg direktben beállítani a placeholder src-t\n    if (placeholderImage) {\n      e.target.src = placeholderImage;\n    } else {\n      // Végső esetben elrejtjük a képet vagy szöveget írunk ki\n      console.error(\"Placeholder image failed to load.\");\n      e.target.style.display = \"none\"; // Vagy e.target.alt = 'Kép nem elérhető';\n    }\n    // Fontos: Ne állítsuk be újra az onerror handlert null-ra,\n    // mert ha a placeholder is hibás, végtelen ciklusba kerülhet.\n    // Helyette a fenti logika kezeli a placeholder hibáját is.\n  }, [profileImage]); // profileImage függőség\n\n  // --- Render Logic ---\n  if (loading && !user) {\n    // Csak akkor mutassunk full screen töltést, ha még nincs user adatunk\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container text-center p-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Profil bet\\xF6lt\\xE9se...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this);\n  }\n  if (!isLoggedIn || !user) {\n    // Ha nincs bejelentkezve VAGY valamiért nincs user adat (hiba után)\n    // A useEffect már átirányított valószínűleg, de biztonság kedvéért\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"A profil megtekint\\xE9s\\xE9hez be kell jelentkezni.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => navigate(\"/bejelentkezes\"),\n        children: \"Bejelentkez\\xE9s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this);\n  }\n\n  // --- Main Profile Render ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-card card shadow-sm\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"profile-title card-title text-center mb-4\",\n          children: \"Profil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), updateSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success alert-dismissible fade show small\",\n          role: \"alert\",\n          children: [updateSuccess, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close btn-sm\",\n            onClick: () => setUpdateSuccess(\"\"),\n            \"aria-label\": \"Bez\\xE1r\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), updateError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger alert-dismissible fade show small\",\n          role: \"alert\",\n          children: [updateError, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close btn-sm\",\n            onClick: () => setUpdateError(\"\"),\n            \"aria-label\": \"Bez\\xE1r\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), error && !editing && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning text-center small\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-image-section text-center mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              // Itt most a 'profileImage' state-et használjuk, VAGY a placeholdert\n              src: profileImage || placeholderImage,\n              alt: `${user.name || \"Felhasználó\"} profilképe`,\n              className: \"profile-image rounded-circle border\" // Bootstrap class-ok\n              ,\n\n              // Segít a böngészőnek frissíteni, ha a src változik\n              onError: handleImageError // Közvetlenül itt adjuk meg a handlert\n              ,\n              style: {\n                width: \"150px\",\n                height: \"150px\",\n                objectFit: \"cover\"\n              } // Inline stílus a mérethez\n            }, profileImage, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"profile-subtitle h5 text-center text-muted mb-3\",\n            children: \"Felhaszn\\xE1l\\xF3i adatok\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), !editing ?\n          /*#__PURE__*/\n          // --- Display Mode ---\n          _jsxDEV(\"div\", {\n            className: \"profile-details text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"N\\xE9v:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 19\n              }, this), \" \", user.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this), \" \", user.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Telefonsz\\xE1m:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this), \" \", user.phone || \"Nincs megadva\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [\"Regisztr\\xE1ci\\xF3:\", \" \", user.created_at ? new Date(user.created_at).toLocaleDateString(\"hu-HU\") : \"Ismeretlen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-actions mt-4 d-flex justify-content-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-primary btn-sm\",\n                onClick: () => setEditing(true),\n                disabled: updateLoading,\n                children: \"Adatok szerkeszt\\xE9se\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-danger btn-sm\",\n                onClick: handleLogout,\n                disabled: updateLoading,\n                children: \"Kil\\xE9p\\xE9s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this) :\n          /*#__PURE__*/\n          // --- Editing Mode ---\n          _jsxDEV(\"form\", {\n            id: \"profileForm\",\n            onSubmit: handleEdit,\n            noValidate: true,\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"editName\",\n                className: \"form-label form-label-sm\",\n                children: \"N\\xE9v\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: `form-control form-control-sm ${validationErrors.name ? \"is-invalid\" : \"\"}`,\n                id: \"editName\",\n                value: newName,\n                onChange: e => setNewName(e.target.value),\n                required: true,\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this), validationErrors.name && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback small\",\n                children: validationErrors.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"editEmail\",\n                className: \"form-label form-label-sm\",\n                children: \"Email c\\xEDm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                className: `form-control form-control-sm ${validationErrors.email ? \"is-invalid\" : \"\"}`,\n                id: \"editEmail\",\n                value: newEmail,\n                onChange: e => setNewEmail(e.target.value),\n                required: true,\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this), validationErrors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback small\",\n                children: validationErrors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"editPhoneNumber\",\n                className: \"form-label form-label-sm\",\n                children: \"Telefonsz\\xE1m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                className: `form-control form-control-sm ${validationErrors.phoneNumber ? \"is-invalid\" : \"\"}`,\n                id: \"editPhoneNumber\",\n                value: phoneNumber,\n                onChange: e => setPhoneNumber(e.target.value),\n                placeholder: \"Opcion\\xE1lis\",\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this), validationErrors.phoneNumber && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback small\",\n                children: validationErrors.phoneNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"profileImageUrl\",\n                className: \"form-label form-label-sm\",\n                children: \"Profilk\\xE9p URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\" // Maradjon text\n                ,\n                className: `form-control form-control-sm ${validationErrors.imageUrl ? \"is-invalid\" : \"\"}`,\n                id: \"profileImageUrl\",\n                value: imageUrl // Az input mező state-je\n                ,\n                onChange: e => setImageUrl(e.target.value) // Csak az input state-et frissíti\n                ,\n                placeholder: \"https://kep.url/profil.jpg (Opcion\\xE1lis)\",\n                \"aria-describedby\": \"imageUrlHelp imageUrlError\",\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this), validationErrors.imageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"imageUrlError\",\n                className: \"invalid-feedback small\",\n                children: validationErrors.imageUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"imageUrlHelp\",\n                className: \"form-text small text-muted\",\n                children: \"Add meg a k\\xE9p teljes URL-j\\xE9t, vagy hagyd \\xFCresen.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"editPassword\",\n                className: \"form-label form-label-sm\",\n                children: \"\\xDAj jelsz\\xF3 (ha v\\xE1ltoztatni akarod)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: `form-control form-control-sm ${validationErrors.password ? \"is-invalid\" : \"\"}`,\n                id: \"editPassword\",\n                value: newPassword,\n                onChange: e => setNewPassword(e.target.value),\n                placeholder: \"Minimum 6 karakter\",\n                \"aria-describedby\": \"passwordHelp\",\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this), validationErrors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback small\",\n                children: validationErrors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"passwordHelp\",\n                className: \"form-text small text-muted\",\n                children: \"Hagyd \\xFCresen, ha nem akarod megv\\xE1ltoztatni a jelsz\\xF3t.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-actions mt-4 d-flex justify-content-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary btn-sm\",\n                disabled: updateLoading,\n                children: updateLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm me-1\",\n                    role: \"status\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 504,\n                    columnNumber: 25\n                  }, this), \"Ment\\xE9s...\"]\n                }, void 0, true) : \"Módosítások Mentése\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-outline-secondary btn-sm\",\n                onClick: handleCancelEdit,\n                disabled: updateLoading,\n                children: \"M\\xE9gse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"qGiDFqOvIjqF0nEoNFmUwXmChB4=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useContext","useNavigate","getUser","updateUser","AuthContext","placeholderImage","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","isLoggedIn","user","contextUser","login","contextLogin","logout","contextLogout","navigate","setUser","loading","setLoading","updateLoading","setUpdateLoading","editing","setEditing","error","setError","updateError","setUpdateError","validationErrors","setValidationErrors","updateSuccess","setUpdateSuccess","newName","setNewName","newEmail","setNewEmail","newPassword","setNewPassword","phoneNumber","setPhoneNumber","imageUrl","setImageUrl","profileImage","setProfileImage","initializeForm","userData","console","warn","log","profile_picture_url","name","email","phone","currentImageUrl","fetchUser","Error","localStorage","getItem","err","_err$message","_err$response","_err$response2","_err$response2$data","_err$response2$data$e","message","includes","response","status","data","validateForm","errors","trim","test","length","password","trimmedImageUrl","startsWith","Object","keys","handleEdit","e","preventDefault","dataToUpdate","success","setTimeout","handleLogout","window","confirm","handleCancelEdit","handleImageError","target","src","style","display","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","alt","onError","width","height","objectFit","created_at","Date","toLocaleDateString","disabled","id","onSubmit","noValidate","htmlFor","value","onChange","required","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/KomPhone/Desktop/Parfumvilag2.0/Parfumvilag_2.0/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { getUser, updateUser } from \"../services/userService\";\r\nimport { AuthContext } from \"../App\";\r\n// Ellenőrizd az import útvonalát! Létezik ez a kép ezen a helyen?\r\nimport placeholderImage from \"../assets/placeholder.png\";\r\n\r\nconst Profile = () => {\r\n  const {\r\n    isLoggedIn,\r\n    user: contextUser,\r\n    login: contextLogin,\r\n    logout: contextLogout,\r\n  } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  // --- State Definitions ---\r\n  const [user, setUser] = useState(contextUser || null); // Kezdőérték a kontextusból\r\n  const [loading, setLoading] = useState(!contextUser); // Csak akkor tölt, ha nincs user a kontextusban\r\n  const [updateLoading, setUpdateLoading] = useState(false);\r\n  const [editing, setEditing] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [updateError, setUpdateError] = useState(\"\");\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  const [updateSuccess, setUpdateSuccess] = useState(\"\");\r\n\r\n  // Form state\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newEmail, setNewEmail] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [imageUrl, setImageUrl] = useState(\"\"); // Input mező értéke\r\n  const [profileImage, setProfileImage] = useState(\"\"); // Megjelenített kép src\r\n\r\n  // --- Initialize Form ---\r\n  // useCallback hasznos lehet, ha propként adnánk tovább, de itt nem létfontosságú\r\n  const initializeForm = (userData) => {\r\n    if (!userData) {\r\n      console.warn(\"[initializeForm] No user data provided.\");\r\n      return;\r\n    }\r\n    console.log(\r\n      \"[initializeForm] Initializing form. UserData Profile URL:\",\r\n      userData.profile_picture_url\r\n    ); // Logoljuk a bejövőt\r\n    setNewName(userData.name || \"\");\r\n    setNewEmail(userData.email || \"\");\r\n    setPhoneNumber(userData.phone || \"\");\r\n    const currentImageUrl = userData.profile_picture_url || \"\"; // Default to empty string if null/undefined\r\n    setImageUrl(currentImageUrl); // Input mező szinkronizálása\r\n    setProfileImage(currentImageUrl); // Megjelenített kép szinkronizálása\r\n    console.log(\r\n      `[initializeForm] Set profileImage state to: '${currentImageUrl}'`\r\n    ); // Logoljuk a beállított értéket\r\n    setNewPassword(\"\");\r\n    setValidationErrors({});\r\n    setUpdateError(\"\");\r\n    setUpdateSuccess(\"\");\r\n  };\r\n\r\n  // --- Fetch User ---\r\n  // Ez a függvény felelős a felhasználói adatok lekéréséért\r\n  const fetchUser = useCallback(async () => {\r\n    if (!isLoggedIn) return; // Ne tegyen semmit, ha nincs bejelentkezve\r\n    console.log(\"[fetchUser] Fetching user data...\");\r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const userData = await getUser(); // Service hívása\r\n      if (!userData) throw new Error(\"Nem érkeztek felhasználói adatok.\");\r\n      console.log(\"[fetchUser] User data received:\", userData);\r\n\r\n      // Állapotok frissítése a kapott adatokkal\r\n      setUser(userData);\r\n      contextLogin(userData, localStorage.getItem(\"token\")); // Kontextus frissítése\r\n      initializeForm(userData); // Form inicializálása a friss adatokkal\r\n    } catch (err) {\r\n      console.error(\"[fetchUser] Error fetching user:\", err);\r\n      setError(err.message || \"Profil betöltési hiba.\");\r\n      // Ha a hiba jogosultsági probléma (pl. lejárt token), kijelentkeztetés\r\n      if (\r\n        err.message?.includes(\"hitelesít\") ||\r\n        err.response?.status === 401 ||\r\n        err.response?.data?.error?.includes(\"Token\")\r\n      ) {\r\n        console.warn(\"[fetchUser] Auth error detected, logging out.\");\r\n        contextLogout();\r\n        navigate(\"/bejelentkezes\");\r\n      }\r\n    } finally {\r\n      setLoading(false); // Betöltés befejezése\r\n    }\r\n  }, [isLoggedIn, contextLogin, contextLogout, navigate]); // Függőségek\r\n\r\n  // --- Initial Load Effect ---\r\n  // Csak akkor fusson le, ha a bejelentkezési állapot megváltozik,\r\n  // vagy ha még nincs user adat és nem is töltődik éppen.\r\n  useEffect(() => {\r\n    if (isLoggedIn && !user && !loading) {\r\n      fetchUser();\r\n    } else if (user && !loading && !editing) {\r\n      // Ha már van user és nem szerkesztünk, győződjünk meg róla, hogy a form szinkronban van\r\n      initializeForm(user);\r\n    } else if (!isLoggedIn && !loading) {\r\n      // Ha nincs bejelentkezve (és nem tölt), irányítsuk a login oldalra\r\n      navigate(\"/bejelentkezes\");\r\n    }\r\n  }, [isLoggedIn, user, loading, editing, fetchUser, initializeForm, navigate]);\r\n\r\n  // --- Validation ---\r\n  const validateForm = useCallback(() => {\r\n    const errors = {};\r\n    if (!newName.trim()) errors.name = \"Név megadása kötelező!\";\r\n    if (!newEmail.trim()) {\r\n      errors.email = \"Email cím megadása kötelező!\";\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(newEmail)) {\r\n      errors.email = \"Érvénytelen email cím formátum!\";\r\n    }\r\n    if (newPassword && newPassword.length < 6) {\r\n      errors.password = \"Jelszó min. 6 karakter!\";\r\n    }\r\n    // Telefonszám validálás (opcionális, lehet lazább)\r\n    // if (phoneNumber && phoneNumber.trim() && !/^\\+?[0-9\\s-()]{7,}$/.test(phoneNumber)) {\r\n    //   errors.phoneNumber = 'Érvénytelen telefonszám formátum!';\r\n    // }\r\n    const trimmedImageUrl = imageUrl.trim();\r\n    // URL validálás (opcionális, lehet lazább, csak http/https kezdetet néz)\r\n    if (\r\n      trimmedImageUrl &&\r\n      !trimmedImageUrl.startsWith(\"http://\") &&\r\n      !trimmedImageUrl.startsWith(\"https://\")\r\n    ) {\r\n      errors.imageUrl = \"Érvénytelen URL (http:// vagy https:// kellene)!\";\r\n    }\r\n    setValidationErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  }, [newName, newEmail, newPassword, phoneNumber, imageUrl]);\r\n\r\n  // --- Handle Update ---\r\n  const handleEdit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n\r\n    setUpdateLoading(true);\r\n    setUpdateError(\"\");\r\n    setUpdateSuccess(\"\");\r\n    setValidationErrors({});\r\n\r\n    const dataToUpdate = {\r\n      name: newName.trim(),\r\n      email: newEmail.trim(),\r\n      phone: phoneNumber.trim() || null, // Küldj null-t, ha üres\r\n      profile_picture_url: imageUrl.trim() || null, // Küldj null-t, ha üres\r\n    };\r\n    if (newPassword.trim()) {\r\n      dataToUpdate.password = newPassword.trim(); // Csak akkor küldjük, ha nem üres\r\n    }\r\n\r\n    try {\r\n      console.log(\"[handleEdit] Calling updateUser with:\", dataToUpdate);\r\n      const response = await updateUser(dataToUpdate); // Service hívása\r\n\r\n      if (response && response.success && response.user) {\r\n        console.log(\r\n          \"[handleEdit] Update successful. Received user:\",\r\n          response.user\r\n        );\r\n        // Frissítjük a lokális és globális állapotot a backend által visszaküldött adatokkal\r\n        setUser(response.user);\r\n        contextLogin(response.user, localStorage.getItem(\"token\"));\r\n        initializeForm(response.user); // Form resetelése az új adatokkal\r\n        setEditing(false); // Kilépés a szerkesztő módból\r\n        setUpdateSuccess(\"Adatok sikeresen frissítve!\");\r\n        setTimeout(() => setUpdateSuccess(\"\"), 4000); // Üzenet eltüntetése\r\n      } else {\r\n        throw new Error(response?.error || \"Ismeretlen hiba a frissítés után.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"[handleEdit] Error during update:\", err);\r\n      // Backend hibaüzenet megjelenítése, ha van\r\n      setUpdateError(err.message || \"Hiba történt a mentés során.\");\r\n      // Kezelhetnénk itt specifikus backend validációs hibákat is, ha a backend küldene olyat\r\n      // pl. if (err.response?.data?.errors) setValidationErrors(err.response.data.errors);\r\n    } finally {\r\n      console.log(\"[handleEdit] Setting updateLoading to false.\");\r\n      setUpdateLoading(false); // <<< Loading state kikapcsolása MINDENKÉPPEN\r\n    }\r\n  };\r\n\r\n  // --- Logout ---\r\n  const handleLogout = () => {\r\n    if (window.confirm(\"Biztosan ki szeretne lépni?\")) {\r\n      contextLogout();\r\n      navigate(\"/\"); // Kezdőlapra vagy loginra irányítás\r\n    }\r\n  };\r\n\r\n  // --- Cancel Edit ---\r\n  const handleCancelEdit = () => {\r\n    setEditing(false);\r\n    if (user) {\r\n      initializeForm(user);\r\n    } // Form visszaállítása az eredeti user adatokra\r\n    setUpdateError(\"\");\r\n    setValidationErrors({});\r\n    setUpdateSuccess(\"\");\r\n  };\r\n\r\n  // --- Image Error Handler ---\r\n  const handleImageError = useCallback(\r\n    (e) => {\r\n      console.warn(\r\n        \"Image onError triggered. Current profileImage state:\",\r\n        profileImage,\r\n        \"Setting to placeholder.\"\r\n      );\r\n      // Próbáljuk meg direktben beállítani a placeholder src-t\r\n      if (placeholderImage) {\r\n        e.target.src = placeholderImage;\r\n      } else {\r\n        // Végső esetben elrejtjük a képet vagy szöveget írunk ki\r\n        console.error(\"Placeholder image failed to load.\");\r\n        e.target.style.display = \"none\"; // Vagy e.target.alt = 'Kép nem elérhető';\r\n      }\r\n      // Fontos: Ne állítsuk be újra az onerror handlert null-ra,\r\n      // mert ha a placeholder is hibás, végtelen ciklusba kerülhet.\r\n      // Helyette a fenti logika kezeli a placeholder hibáját is.\r\n    },\r\n    [profileImage]\r\n  ); // profileImage függőség\r\n\r\n  // --- Render Logic ---\r\n  if (loading && !user) {\r\n    // Csak akkor mutassunk full screen töltést, ha még nincs user adatunk\r\n    return (\r\n      <div className=\"container text-center p-5\">\r\n        <div className=\"spinner-border text-primary\" role=\"status\">\r\n          <span className=\"visually-hidden\">Profil betöltése...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isLoggedIn || !user) {\r\n    // Ha nincs bejelentkezve VAGY valamiért nincs user adat (hiba után)\r\n    // A useEffect már átirányított valószínűleg, de biztonság kedvéért\r\n    return (\r\n      <div className=\"container py-5 text-center\">\r\n        <p>A profil megtekintéséhez be kell jelentkezni.</p>\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          onClick={() => navigate(\"/bejelentkezes\")}\r\n        >\r\n          Bejelentkezés\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- Main Profile Render ---\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <div className=\"profile-card card shadow-sm\">\r\n        {\" \"}\r\n        {/* Bootstrap card stílusok */}\r\n        <div className=\"card-body\">\r\n          <h1 className=\"profile-title card-title text-center mb-4\">Profil</h1>\r\n\r\n          {/* Messages */}\r\n          {updateSuccess && (\r\n            <div\r\n              className=\"alert alert-success alert-dismissible fade show small\"\r\n              role=\"alert\"\r\n            >\r\n              {updateSuccess}\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close btn-sm\"\r\n                onClick={() => setUpdateSuccess(\"\")}\r\n                aria-label=\"Bezár\"\r\n              ></button>\r\n            </div>\r\n          )}\r\n          {updateError && (\r\n            <div\r\n              className=\"alert alert-danger alert-dismissible fade show small\"\r\n              role=\"alert\"\r\n            >\r\n              {updateError}\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close btn-sm\"\r\n                onClick={() => setUpdateError(\"\")}\r\n                aria-label=\"Bezár\"\r\n              ></button>\r\n            </div>\r\n          )}\r\n          {error && !editing && (\r\n            <div className=\"alert alert-warning text-center small\">{error}</div>\r\n          )}\r\n\r\n          <div className=\"profile-content\">\r\n            {/* Image Section */}\r\n            <div className=\"profile-image-section text-center mb-4\">\r\n              <img\r\n                // Itt most a 'profileImage' state-et használjuk, VAGY a placeholdert\r\n                src={profileImage || placeholderImage}\r\n                alt={`${user.name || \"Felhasználó\"} profilképe`}\r\n                className=\"profile-image rounded-circle border\" // Bootstrap class-ok\r\n                key={profileImage} // Segít a böngészőnek frissíteni, ha a src változik\r\n                onError={handleImageError} // Közvetlenül itt adjuk meg a handlert\r\n                style={{ width: \"150px\", height: \"150px\", objectFit: \"cover\" }} // Inline stílus a mérethez\r\n              />\r\n            </div>\r\n\r\n            {/* Details / Form Section */}\r\n            <h3 className=\"profile-subtitle h5 text-center text-muted mb-3\">\r\n              Felhasználói adatok\r\n            </h3>\r\n            {!editing ? (\r\n              // --- Display Mode ---\r\n              <div className=\"profile-details text-center\">\r\n                <p>\r\n                  <strong>Név:</strong> {user.name}\r\n                </p>\r\n                <p>\r\n                  <strong>Email:</strong> {user.email}\r\n                </p>\r\n                <p>\r\n                  <strong>Telefonszám:</strong> {user.phone || \"Nincs megadva\"}\r\n                </p>\r\n                <p>\r\n                  <small className=\"text-muted\">\r\n                    Regisztráció:{\" \"}\r\n                    {user.created_at\r\n                      ? new Date(user.created_at).toLocaleDateString(\"hu-HU\")\r\n                      : \"Ismeretlen\"}\r\n                  </small>\r\n                </p>\r\n                <div className=\"profile-actions mt-4 d-flex justify-content-center gap-2\">\r\n                  <button\r\n                    className=\"btn btn-outline-primary btn-sm\"\r\n                    onClick={() => setEditing(true)}\r\n                    disabled={updateLoading}\r\n                  >\r\n                    Adatok szerkesztése\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-outline-danger btn-sm\"\r\n                    onClick={handleLogout}\r\n                    disabled={updateLoading}\r\n                  >\r\n                    Kilépés\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              // --- Editing Mode ---\r\n              <form id=\"profileForm\" onSubmit={handleEdit} noValidate>\r\n                {\" \"}\r\n                {/* noValidate böngésző oldali validáció kikapcsolása */}\r\n                {/* Name */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"editName\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Név\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.name ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"editName\"\r\n                    value={newName}\r\n                    onChange={(e) => setNewName(e.target.value)}\r\n                    required\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.name && (\r\n                    <div className=\"invalid-feedback small\">\r\n                      {validationErrors.name}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {/* Email */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"editEmail\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Email cím\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.email ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"editEmail\"\r\n                    value={newEmail}\r\n                    onChange={(e) => setNewEmail(e.target.value)}\r\n                    required\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.email && (\r\n                    <div className=\"invalid-feedback small\">\r\n                      {validationErrors.email}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {/* Phone */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"editPhoneNumber\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Telefonszám\r\n                  </label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.phoneNumber ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"editPhoneNumber\"\r\n                    value={phoneNumber}\r\n                    onChange={(e) => setPhoneNumber(e.target.value)}\r\n                    placeholder=\"Opcionális\"\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.phoneNumber && (\r\n                    <div className=\"invalid-feedback small\">\r\n                      {validationErrors.phoneNumber}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {/* Profile Image URL */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"profileImageUrl\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Profilkép URL\r\n                  </label>\r\n                  <input\r\n                    type=\"text\" // Maradjon text\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.imageUrl ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"profileImageUrl\"\r\n                    value={imageUrl} // Az input mező state-je\r\n                    onChange={(e) => setImageUrl(e.target.value)} // Csak az input state-et frissíti\r\n                    placeholder=\"https://kep.url/profil.jpg (Opcionális)\"\r\n                    aria-describedby=\"imageUrlHelp imageUrlError\"\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.imageUrl && (\r\n                    <div id=\"imageUrlError\" className=\"invalid-feedback small\">\r\n                      {validationErrors.imageUrl}\r\n                    </div>\r\n                  )}\r\n                  <div id=\"imageUrlHelp\" className=\"form-text small text-muted\">\r\n                    Add meg a kép teljes URL-jét, vagy hagyd üresen.\r\n                  </div>\r\n                </div>\r\n                {/* Password */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"editPassword\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Új jelszó (ha változtatni akarod)\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.password ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"editPassword\"\r\n                    value={newPassword}\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                    placeholder=\"Minimum 6 karakter\"\r\n                    aria-describedby=\"passwordHelp\"\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.password && (\r\n                    <div className=\"invalid-feedback small\">\r\n                      {validationErrors.password}\r\n                    </div>\r\n                  )}\r\n                  <div id=\"passwordHelp\" className=\"form-text small text-muted\">\r\n                    Hagyd üresen, ha nem akarod megváltoztatni a jelszót.\r\n                  </div>\r\n                </div>\r\n                {/* Buttons */}\r\n                <div className=\"profile-actions mt-4 d-flex justify-content-center gap-2\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary btn-sm\"\r\n                    disabled={updateLoading}\r\n                  >\r\n                    {updateLoading ? (\r\n                      <>\r\n                        <span\r\n                          className=\"spinner-border spinner-border-sm me-1\"\r\n                          role=\"status\"\r\n                          aria-hidden=\"true\"\r\n                        ></span>\r\n                        Mentés...\r\n                      </>\r\n                    ) : (\r\n                      \"Módosítások Mentése\"\r\n                    )}\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-secondary btn-sm\"\r\n                    onClick={handleCancelEdit}\r\n                    disabled={updateLoading}\r\n                  >\r\n                    Mégse\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}