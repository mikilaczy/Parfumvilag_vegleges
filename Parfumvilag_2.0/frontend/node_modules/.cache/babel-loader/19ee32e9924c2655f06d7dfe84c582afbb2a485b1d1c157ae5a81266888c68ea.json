{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lacmik919\\\\Desktop\\\\Parfumvilag\\\\Parfumvilag_2.0\\\\frontend\\\\src\\\\components\\\\PerfumeCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../App';\nimport '../style.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PerfumeCard = ({\n  perfume\n}) => {\n  _s();\n  const {\n    id,\n    name,\n    brand,\n    price,\n    image_url\n  } = perfume;\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [showLoginPrompt, setShowLoginPrompt] = useState(false);\n  const navigate = useNavigate();\n  const {\n    isLoggedIn,\n    favorites,\n    addToFavorites,\n    removeFromFavorites\n  } = useContext(AuthContext);\n\n  // Ellenőrizzük, hogy a parfüm már a kedvencek között van-e\n  useEffect(() => {\n    setIsFavorite(favorites.some(fav => fav.id === id));\n  }, [favorites, id]);\n\n  // Kedvencekhez adás/törlés\n  const toggleFavorite = async () => {\n    if (!isLoggedIn) {\n      setShowLoginPrompt(true);\n      return;\n    }\n    if (isFavorite) {\n      removeFromFavorites(id);\n    } else {\n      addToFavorites(perfume);\n    }\n    setIsFavorite(!isFavorite);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"perfume-card\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/parfume/${id}`,\n        className: \"perfume-card-link\",\n        style: {\n          textDecoration: 'none',\n          color: 'inherit'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: image_url || 'https://via.placeholder.com/220',\n          alt: name,\n          className: \"perfume-card-img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"perfume-card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"perfume-card-title\",\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"perfume-card-subtitle\",\n            children: brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"perfume-card-text\",\n            children: price ? `${price} Ft` : 'Ár nem elérhető'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `favorite-btn ${isFavorite ? 'active' : ''}`,\n        onClick: e => {\n          e.preventDefault();\n          toggleFavorite();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), showLoginPrompt && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-prompt-overlay\",\n        onClick: () => setShowLoginPrompt(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-prompt\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: () => setShowLoginPrompt(false),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Bejelentkez\\xE9s sz\\xFCks\\xE9ges\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Be kell jelentkezni, hogy menteni tudjunk a kedvencek k\\xF6z\\xE9.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login-btn\",\n          onClick: () => navigate('/bejelentkezes'),\n          children: \"Bejelentkez\\xE9s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n_s(PerfumeCard, \"iW7MQ+pe1lviaAMraYrawkQDCtw=\", false, function () {\n  return [useNavigate];\n});\n_c = PerfumeCard;\nexport default PerfumeCard;\nvar _c;\n$RefreshReg$(_c, \"PerfumeCard\");","map":{"version":3,"names":["React","useState","useContext","useEffect","Link","useNavigate","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","PerfumeCard","perfume","_s","id","name","brand","price","image_url","isFavorite","setIsFavorite","showLoginPrompt","setShowLoginPrompt","navigate","isLoggedIn","favorites","addToFavorites","removeFromFavorites","some","fav","toggleFavorite","children","className","to","style","textDecoration","color","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","e","preventDefault","_c","$RefreshReg$"],"sources":["C:/Users/lacmik919/Desktop/Parfumvilag/Parfumvilag_2.0/frontend/src/components/PerfumeCard.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../App';\r\nimport '../style.css';\r\n\r\nconst PerfumeCard = ({ perfume }) => {\r\n  const { id, name, brand, price, image_url } = perfume;\r\n  const [isFavorite, setIsFavorite] = useState(false);\r\n  const [showLoginPrompt, setShowLoginPrompt] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { isLoggedIn, favorites, addToFavorites, removeFromFavorites } =\r\n    useContext(AuthContext);\r\n\r\n  // Ellenőrizzük, hogy a parfüm már a kedvencek között van-e\r\n  useEffect(() => {\r\n    setIsFavorite(favorites.some((fav) => fav.id === id));\r\n  }, [favorites, id]);\r\n\r\n  // Kedvencekhez adás/törlés\r\n  const toggleFavorite = async () => {\r\n    if (!isLoggedIn) {\r\n      setShowLoginPrompt(true);\r\n      return;\r\n    }\r\n\r\n    if (isFavorite) {\r\n      removeFromFavorites(id);\r\n    } else {\r\n      addToFavorites(perfume);\r\n    }\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"perfume-card\">\r\n        <Link\r\n          to={`/parfume/${id}`}\r\n          className=\"perfume-card-link\"\r\n          style={{ textDecoration: 'none', color: 'inherit' }}\r\n        >\r\n          <img\r\n            src={image_url || 'https://via.placeholder.com/220'}\r\n            alt={name}\r\n            className=\"perfume-card-img\"\r\n          />\r\n          <div className=\"perfume-card-body\">\r\n            <h5 className=\"perfume-card-title\">{name}</h5>\r\n            <p className=\"perfume-card-subtitle\">{brand}</p>\r\n            <p className=\"perfume-card-text\">{price ? `${price} Ft` : 'Ár nem elérhető'}</p>\r\n          </div>\r\n        </Link>\r\n        <button\r\n          className={`favorite-btn ${isFavorite ? 'active' : ''}`}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            toggleFavorite();\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* Bejelentkezés üzenet modális */}\r\n      {showLoginPrompt && (\r\n        <>\r\n          <div className=\"login-prompt-overlay\" onClick={() => setShowLoginPrompt(false)} />\r\n          <div className=\"login-prompt\">\r\n            <button\r\n              className=\"close-btn\"\r\n              onClick={() => setShowLoginPrompt(false)}\r\n            >\r\n              ×\r\n            </button>\r\n            <h3>Bejelentkezés szükséges</h3>\r\n            <p>Be kell jelentkezni, hogy menteni tudjunk a kedvencek közé.</p>\r\n            <button\r\n              className=\"login-btn\"\r\n              onClick={() => navigate('/bejelentkezes')}\r\n            >\r\n              Bejelentkezés\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PerfumeCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}