{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KomPhone\\\\Desktop\\\\Parfumvilag2.0\\\\Parfumvilag_2.0\\\\frontend\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getUser, updateUser } from \"../services/userService\";\nimport { AuthContext } from \"../App\";\n// Visszaállítás a helyi placeholderre - ELLENŐRIZD AZ ÚTVONALAT!\nimport placeholderImage from \"../assets/placeholder.png\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    isLoggedIn,\n    user: contextUser,\n    login: contextLogin,\n    logout: contextLogout\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  // --- State Definitions ---\n  const [user, setUser] = useState(contextUser || null);\n  const [loading, setLoading] = useState(!contextUser);\n  const [updateLoading, setUpdateLoading] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [updateError, setUpdateError] = useState(\"\");\n  const [validationErrors, setValidationErrors] = useState({});\n  const [updateSuccess, setUpdateSuccess] = useState(\"\");\n\n  // Form state\n  const [newName, setNewName] = useState(\"\");\n  const [newEmail, setNewEmail] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [imageUrl, setImageUrl] = useState(\"\"); // Input mező értéke\n\n  // --- Initialize Form (Memoized) ---\n  const initializeForm = useCallback(userData => {\n    if (!userData) return;\n    console.log(\"[initializeForm] Initializing form state from userData:\", userData); // Log UserData\n    setNewName(userData.name || \"\");\n    setNewEmail(userData.email || \"\");\n    setPhoneNumber(userData.phone || \"\");\n    const currentImageUrl = userData.profile_picture_url || \"\";\n    setImageUrl(currentImageUrl); // Set input state\n    // Nincs külön profileImage state\n    setNewPassword(\"\");\n    setValidationErrors({});\n    setUpdateError(\"\");\n    setUpdateSuccess(\"\");\n  }, []); // Empty dependency array is correct here\n\n  // --- Fetch User Data (Memoized) ---\n  const fetchUserData = useCallback(async () => {\n    console.log(\"[fetchUserData] Attempting to fetch...\");\n    setLoading(true);\n    setError(\"\");\n    try {\n      const fetchedData = await getUser();\n      if (!fetchedData) throw new Error(\"Nem érkeztek felhasználói adatok.\");\n      console.log(\"[fetchUserData] Success:\", fetchedData);\n      setUser(fetchedData);\n      contextLogin(fetchedData, localStorage.getItem(\"token\"));\n      // Form init moved to useEffect listening on 'user' state change\n    } catch (err) {\n      var _err$message, _err$response, _err$response2, _err$response2$data, _err$response2$data$e;\n      console.error(\"[fetchUserData] Error:\", err);\n      setError(err.message || \"Profil betöltési hiba.\");\n      if ((_err$message = err.message) !== null && _err$message !== void 0 && _err$message.includes(\"hitelesít\") || ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401 || (_err$response2 = err.response) !== null && _err$response2 !== void 0 && (_err$response2$data = _err$response2.data) !== null && _err$response2$data !== void 0 && (_err$response2$data$e = _err$response2$data.error) !== null && _err$response2$data$e !== void 0 && _err$response2$data$e.includes(\"Token\")) {\n        console.warn(\"[fetchUserData] Auth error, logging out.\");\n        contextLogout();\n        navigate(\"/bejelentkezes\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn, contextLogin, contextLogout, navigate]); // Dependencies\n\n  // --- Effect for Initial Load / Login Status Change ---\n  useEffect(() => {\n    console.log(\"[Effect Login/User] Running. isLoggedIn:\", isLoggedIn, \"Has User:\", !!user, \"Loading:\", loading);\n    if (isLoggedIn) {\n      if (!user && !loading) {\n        // If logged in, no user yet, and not loading -> fetch\n        fetchUserData();\n      }\n      // Separate effect handles initializing form when user data arrives/changes\n    } else if (!loading) {\n      // If not logged in and not loading -> redirect\n      console.log(\"[Effect Login/User] Not logged in, navigating to login.\");\n      navigate(\"/bejelentkezes\");\n    }\n  }, [isLoggedIn, user, loading, fetchUserData, navigate]); // Depends on these\n\n  // --- Effect to Initialize Form When User Data is Available ---\n  useEffect(() => {\n    if (user && !editing) {\n      // If user data exists and we are NOT editing\n      console.log(\"[Effect InitForm] User data present, initializing form.\");\n      initializeForm(user);\n    }\n  }, [user, editing, initializeForm]); // Run when user or editing changes\n\n  // --- Validation (Memoized) ---\n  const validateForm = useCallback(() => {\n    const errors = {};\n    if (!newName.trim()) errors.name = \"Név megadása kötelező!\";\n    if (!newEmail.trim()) errors.email = \"Email cím megadása kötelező!\";else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(newEmail)) errors.email = \"Érvénytelen email cím formátum!\";\n    if (newPassword && newPassword.length < 6) errors.password = \"Jelszó min. 6 karakter!\";\n    const trimmedImageUrl = imageUrl.trim();\n    if (trimmedImageUrl && !trimmedImageUrl.startsWith(\"http://\") && !trimmedImageUrl.startsWith(\"https://\")) errors.imageUrl = \"Érvénytelen URL (http:// vagy https://)!\";\n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  }, [newName, newEmail, newPassword, phoneNumber, imageUrl]);\n\n  // --- Handle Update ---\n  const handleEditSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    setUpdateLoading(true); // Start loading indicator\n    setUpdateError(\"\");\n    setUpdateSuccess(\"\");\n    setValidationErrors({});\n    const dataToUpdate = {\n      name: newName.trim(),\n      email: newEmail.trim(),\n      phone: phoneNumber.trim() || null,\n      profile_picture_url: imageUrl.trim() || null // Send null if empty\n    };\n    if (newPassword.trim()) dataToUpdate.password = newPassword.trim();\n    try {\n      console.log(\"[handleEditSubmit] Calling updateUser with:\", dataToUpdate);\n      const response = await updateUser(dataToUpdate); // Await the response\n\n      console.log(\"[handleEditSubmit] Received response from updateUser:\", response); // Log the response\n\n      // Check if response is valid and contains user data\n      if (response && response.success && response.user) {\n        console.log(\"[handleEditSubmit] Update successful.\");\n        setUser(response.user); // Update local state\n        contextLogin(response.user, localStorage.getItem(\"token\")); // Update context\n        initializeForm(response.user); // Sync form with new data\n        setEditing(false); // Exit edit mode\n        setUpdateSuccess(\"Adatok sikeresen frissítve!\");\n        setTimeout(() => setUpdateSuccess(\"\"), 4000);\n      } else {\n        // If backend sent a success=false or missing user object\n        console.error(\"[handleEditSubmit] Update response invalid:\", response);\n        throw new Error((response === null || response === void 0 ? void 0 : response.error) || \"Sikertelen frissítés a szerver oldalon.\");\n      }\n    } catch (err) {\n      // Catch errors from await updateUser or the check above\n      console.error(\"[handleEditSubmit] Error during update:\", err);\n      setUpdateError(err.message || \"Hiba történt a mentés során.\");\n    } finally {\n      console.log(\"[handleEditSubmit] Setting updateLoading to false.\");\n      setUpdateLoading(false); // <<< Stop loading indicator\n    }\n  };\n\n  // --- Logout ---\n  const handleLogout = () => {\n    if (window.confirm(\"Biztosan ki szeretne lépni?\")) {\n      contextLogout();\n      navigate(\"/\");\n    }\n  };\n\n  // --- Cancel Edit ---\n  const handleCancelEdit = () => {\n    setEditing(false);\n    if (user) initializeForm(user);\n    setUpdateError(\"\");\n    setValidationErrors({});\n    setUpdateSuccess(\"\");\n  };\n\n  // --- Image Error Handler (Memoized) ---\n  const handleImageError = useCallback(e => {\n    console.warn(\"Image onError triggered for src:\", e.target.src);\n    // Check if placeholder image is available AND if the current src is not already the placeholder\n    if (placeholderImage && e.target.src !== placeholderImage) {\n      e.target.src = placeholderImage;\n    } else {\n      // If placeholder is not available or it's already the source that failed\n      console.error(\"Placeholder image failed or is missing. Hiding image.\");\n      e.target.style.display = \"none\"; // Hide the image element\n    }\n  }, [placeholderImage]); // Depend on placeholderImage variable\n\n  // --- Render Logic ---\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container text-center p-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Profil bet\\xF6lt\\xE9se...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this);\n  }\n  if (!isLoggedIn || !user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger\",\n        children: error || \"A profil megtekintéséhez be kell jelentkezni.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => navigate(\"/bejelentkezes\"),\n        children: \"Bejelentkez\\xE9s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Determine image source AFTER user state is confirmed non-null\n  // Use optional chaining just in case user becomes null temporarily\n  const displayImageUrl = (user === null || user === void 0 ? void 0 : user.profile_picture_url) || placeholderImage;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-card card shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"profile-title card-title text-center mb-4\",\n          children: \"Profil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), updateSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success alert-dismissible fade show small\",\n          role: \"alert\",\n          children: [updateSuccess, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close btn-sm\",\n            onClick: () => setUpdateSuccess(\"\"),\n            \"aria-label\": \"Bez\\xE1r\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), updateError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger alert-dismissible fade show small\",\n          role: \"alert\",\n          children: [updateError, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close btn-sm\",\n            onClick: () => setUpdateError(\"\"),\n            \"aria-label\": \"Bez\\xE1r\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), error && !editing && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning text-center small\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-image-section text-center mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: displayImageUrl // Use derived variable\n              ,\n              alt: `${user.name || \"Felhasználó\"} profilképe`,\n              className: \"profile-image rounded-circle border\",\n              // Helps React detect src change\n              onError: handleImageError // Attach error handler\n              ,\n              style: {\n                width: \"150px\",\n                height: \"150px\",\n                objectFit: \"cover\",\n                backgroundColor: \"#eee\"\n              } // Add bg color\n            }, displayImageUrl, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"profile-subtitle h5 text-center text-muted mb-3\",\n            children: \"Felhaszn\\xE1l\\xF3i adatok\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), !editing ?\n          /*#__PURE__*/\n          // --- Display Mode ---\n          _jsxDEV(\"div\", {\n            className: \"profile-details text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"N\\xE9v:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 19\n              }, this), \" \", user.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this), \" \", user.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Telefonsz\\xE1m:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this), \" \", user.phone || \"Nincs megadva\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [\"Regisztr\\xE1ci\\xF3:\", \" \", user.created_at ? new Date(user.created_at).toLocaleDateString(\"hu-HU\") : \"Ismeretlen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-actions mt-4 d-flex justify-content-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-primary btn-sm\",\n                onClick: () => setEditing(true),\n                disabled: updateLoading,\n                children: \"Adatok szerkeszt\\xE9se\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-danger btn-sm\",\n                onClick: handleLogout,\n                disabled: updateLoading,\n                children: \"Kil\\xE9p\\xE9s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this) :\n          /*#__PURE__*/\n          // --- Editing Mode ---\n          _jsxDEV(\"form\", {\n            id: \"profileForm\",\n            onSubmit: handleEditSubmit,\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"editName\",\n                className: \"form-label form-label-sm\",\n                children: \"N\\xE9v\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: `form-control form-control-sm ${validationErrors.name ? \"is-invalid\" : \"\"}`,\n                id: \"editName\",\n                value: newName,\n                onChange: e => setNewName(e.target.value),\n                required: true,\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this), validationErrors.name && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback small\",\n                children: validationErrors.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"editEmail\",\n                className: \"form-label form-label-sm\",\n                children: \"Email c\\xEDm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                className: `form-control form-control-sm ${validationErrors.email ? \"is-invalid\" : \"\"}`,\n                id: \"editEmail\",\n                value: newEmail,\n                onChange: e => setNewEmail(e.target.value),\n                required: true,\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this), validationErrors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback small\",\n                children: validationErrors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"editPhoneNumber\",\n                className: \"form-label form-label-sm\",\n                children: \"Telefonsz\\xE1m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                className: `form-control form-control-sm ${validationErrors.phoneNumber ? \"is-invalid\" : \"\"}`,\n                id: \"editPhoneNumber\",\n                value: phoneNumber,\n                onChange: e => setPhoneNumber(e.target.value),\n                placeholder: \"Opcion\\xE1lis\",\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this), validationErrors.phoneNumber && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback small\",\n                children: validationErrors.phoneNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"profileImageUrl\",\n                className: \"form-label form-label-sm\",\n                children: \"Profilk\\xE9p URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: `form-control form-control-sm ${validationErrors.imageUrl ? \"is-invalid\" : \"\"}`,\n                id: \"profileImageUrl\",\n                value: imageUrl,\n                onChange: e => setImageUrl(e.target.value),\n                placeholder: \"https://kep.url/profil.jpg (Opcion\\xE1lis)\",\n                \"aria-describedby\": \"imageUrlHelp imageUrlError\",\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this), validationErrors.imageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"imageUrlError\",\n                className: \"invalid-feedback small\",\n                children: validationErrors.imageUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"imageUrlHelp\",\n                className: \"form-text small text-muted\",\n                children: \"Add meg a k\\xE9p teljes URL-j\\xE9t, vagy hagyd \\xFCresen a t\\xF6rl\\xE9shez.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"editPassword\",\n                className: \"form-label form-label-sm\",\n                children: \"\\xDAj jelsz\\xF3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: `form-control form-control-sm ${validationErrors.password ? \"is-invalid\" : \"\"}`,\n                id: \"editPassword\",\n                value: newPassword,\n                onChange: e => setNewPassword(e.target.value),\n                placeholder: \"Minimum 6 karakter\",\n                \"aria-describedby\": \"passwordHelp\",\n                disabled: updateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this), validationErrors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback small\",\n                children: validationErrors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"passwordHelp\",\n                className: \"form-text small text-muted\",\n                children: \"Hagyd \\xFCresen, ha nem akarod megv\\xE1ltoztatni.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-actions mt-4 d-flex justify-content-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary btn-sm\",\n                disabled: updateLoading,\n                children: updateLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm me-1\",\n                    role: \"status\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 25\n                  }, this), \"Ment\\xE9s...\"]\n                }, void 0, true) : \"Módosítások Mentése\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-outline-secondary btn-sm\",\n                onClick: handleCancelEdit,\n                disabled: updateLoading,\n                children: \"M\\xE9gse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"aXrt4lztIk99O0O5vwnH/txTf3c=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useContext","useNavigate","getUser","updateUser","AuthContext","placeholderImage","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","isLoggedIn","user","contextUser","login","contextLogin","logout","contextLogout","navigate","setUser","loading","setLoading","updateLoading","setUpdateLoading","editing","setEditing","error","setError","updateError","setUpdateError","validationErrors","setValidationErrors","updateSuccess","setUpdateSuccess","newName","setNewName","newEmail","setNewEmail","newPassword","setNewPassword","phoneNumber","setPhoneNumber","imageUrl","setImageUrl","initializeForm","userData","console","log","name","email","phone","currentImageUrl","profile_picture_url","fetchUserData","fetchedData","Error","localStorage","getItem","err","_err$message","_err$response","_err$response2","_err$response2$data","_err$response2$data$e","message","includes","response","status","data","warn","validateForm","errors","trim","test","length","password","trimmedImageUrl","startsWith","Object","keys","handleEditSubmit","e","preventDefault","dataToUpdate","success","setTimeout","handleLogout","window","confirm","handleCancelEdit","handleImageError","target","src","style","display","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","onClick","displayImageUrl","type","alt","onError","width","height","objectFit","backgroundColor","created_at","Date","toLocaleDateString","disabled","id","onSubmit","noValidate","htmlFor","value","onChange","required","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/KomPhone/Desktop/Parfumvilag2.0/Parfumvilag_2.0/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { getUser, updateUser } from \"../services/userService\";\r\nimport { AuthContext } from \"../App\";\r\n// Visszaállítás a helyi placeholderre - ELLENŐRIZD AZ ÚTVONALAT!\r\nimport placeholderImage from \"../assets/placeholder.png\";\r\n\r\nconst Profile = () => {\r\n  const {\r\n    isLoggedIn,\r\n    user: contextUser,\r\n    login: contextLogin,\r\n    logout: contextLogout,\r\n  } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  // --- State Definitions ---\r\n  const [user, setUser] = useState(contextUser || null);\r\n  const [loading, setLoading] = useState(!contextUser);\r\n  const [updateLoading, setUpdateLoading] = useState(false);\r\n  const [editing, setEditing] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [updateError, setUpdateError] = useState(\"\");\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  const [updateSuccess, setUpdateSuccess] = useState(\"\");\r\n\r\n  // Form state\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newEmail, setNewEmail] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [imageUrl, setImageUrl] = useState(\"\"); // Input mező értéke\r\n\r\n  // --- Initialize Form (Memoized) ---\r\n  const initializeForm = useCallback((userData) => {\r\n    if (!userData) return;\r\n    console.log(\r\n      \"[initializeForm] Initializing form state from userData:\",\r\n      userData\r\n    ); // Log UserData\r\n    setNewName(userData.name || \"\");\r\n    setNewEmail(userData.email || \"\");\r\n    setPhoneNumber(userData.phone || \"\");\r\n    const currentImageUrl = userData.profile_picture_url || \"\";\r\n    setImageUrl(currentImageUrl); // Set input state\r\n    // Nincs külön profileImage state\r\n    setNewPassword(\"\");\r\n    setValidationErrors({});\r\n    setUpdateError(\"\");\r\n    setUpdateSuccess(\"\");\r\n  }, []); // Empty dependency array is correct here\r\n\r\n  // --- Fetch User Data (Memoized) ---\r\n  const fetchUserData = useCallback(async () => {\r\n    console.log(\"[fetchUserData] Attempting to fetch...\");\r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const fetchedData = await getUser();\r\n      if (!fetchedData) throw new Error(\"Nem érkeztek felhasználói adatok.\");\r\n      console.log(\"[fetchUserData] Success:\", fetchedData);\r\n      setUser(fetchedData);\r\n      contextLogin(fetchedData, localStorage.getItem(\"token\"));\r\n      // Form init moved to useEffect listening on 'user' state change\r\n    } catch (err) {\r\n      console.error(\"[fetchUserData] Error:\", err);\r\n      setError(err.message || \"Profil betöltési hiba.\");\r\n      if (\r\n        err.message?.includes(\"hitelesít\") ||\r\n        err.response?.status === 401 ||\r\n        err.response?.data?.error?.includes(\"Token\")\r\n      ) {\r\n        console.warn(\"[fetchUserData] Auth error, logging out.\");\r\n        contextLogout();\r\n        navigate(\"/bejelentkezes\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [isLoggedIn, contextLogin, contextLogout, navigate]); // Dependencies\r\n\r\n  // --- Effect for Initial Load / Login Status Change ---\r\n  useEffect(() => {\r\n    console.log(\r\n      \"[Effect Login/User] Running. isLoggedIn:\",\r\n      isLoggedIn,\r\n      \"Has User:\",\r\n      !!user,\r\n      \"Loading:\",\r\n      loading\r\n    );\r\n    if (isLoggedIn) {\r\n      if (!user && !loading) {\r\n        // If logged in, no user yet, and not loading -> fetch\r\n        fetchUserData();\r\n      }\r\n      // Separate effect handles initializing form when user data arrives/changes\r\n    } else if (!loading) {\r\n      // If not logged in and not loading -> redirect\r\n      console.log(\"[Effect Login/User] Not logged in, navigating to login.\");\r\n      navigate(\"/bejelentkezes\");\r\n    }\r\n  }, [isLoggedIn, user, loading, fetchUserData, navigate]); // Depends on these\r\n\r\n  // --- Effect to Initialize Form When User Data is Available ---\r\n  useEffect(() => {\r\n    if (user && !editing) {\r\n      // If user data exists and we are NOT editing\r\n      console.log(\"[Effect InitForm] User data present, initializing form.\");\r\n      initializeForm(user);\r\n    }\r\n  }, [user, editing, initializeForm]); // Run when user or editing changes\r\n\r\n  // --- Validation (Memoized) ---\r\n  const validateForm = useCallback(() => {\r\n    const errors = {};\r\n    if (!newName.trim()) errors.name = \"Név megadása kötelező!\";\r\n    if (!newEmail.trim()) errors.email = \"Email cím megadása kötelező!\";\r\n    else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(newEmail))\r\n      errors.email = \"Érvénytelen email cím formátum!\";\r\n    if (newPassword && newPassword.length < 6)\r\n      errors.password = \"Jelszó min. 6 karakter!\";\r\n    const trimmedImageUrl = imageUrl.trim();\r\n    if (\r\n      trimmedImageUrl &&\r\n      !trimmedImageUrl.startsWith(\"http://\") &&\r\n      !trimmedImageUrl.startsWith(\"https://\")\r\n    )\r\n      errors.imageUrl = \"Érvénytelen URL (http:// vagy https://)!\";\r\n    setValidationErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  }, [newName, newEmail, newPassword, phoneNumber, imageUrl]);\r\n\r\n  // --- Handle Update ---\r\n  const handleEditSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n    setUpdateLoading(true); // Start loading indicator\r\n    setUpdateError(\"\");\r\n    setUpdateSuccess(\"\");\r\n    setValidationErrors({});\r\n\r\n    const dataToUpdate = {\r\n      name: newName.trim(),\r\n      email: newEmail.trim(),\r\n      phone: phoneNumber.trim() || null,\r\n      profile_picture_url: imageUrl.trim() || null, // Send null if empty\r\n    };\r\n    if (newPassword.trim()) dataToUpdate.password = newPassword.trim();\r\n\r\n    try {\r\n      console.log(\"[handleEditSubmit] Calling updateUser with:\", dataToUpdate);\r\n      const response = await updateUser(dataToUpdate); // Await the response\r\n\r\n      console.log(\r\n        \"[handleEditSubmit] Received response from updateUser:\",\r\n        response\r\n      ); // Log the response\r\n\r\n      // Check if response is valid and contains user data\r\n      if (response && response.success && response.user) {\r\n        console.log(\"[handleEditSubmit] Update successful.\");\r\n        setUser(response.user); // Update local state\r\n        contextLogin(response.user, localStorage.getItem(\"token\")); // Update context\r\n        initializeForm(response.user); // Sync form with new data\r\n        setEditing(false); // Exit edit mode\r\n        setUpdateSuccess(\"Adatok sikeresen frissítve!\");\r\n        setTimeout(() => setUpdateSuccess(\"\"), 4000);\r\n      } else {\r\n        // If backend sent a success=false or missing user object\r\n        console.error(\"[handleEditSubmit] Update response invalid:\", response);\r\n        throw new Error(\r\n          response?.error || \"Sikertelen frissítés a szerver oldalon.\"\r\n        );\r\n      }\r\n    } catch (err) {\r\n      // Catch errors from await updateUser or the check above\r\n      console.error(\"[handleEditSubmit] Error during update:\", err);\r\n      setUpdateError(err.message || \"Hiba történt a mentés során.\");\r\n    } finally {\r\n      console.log(\"[handleEditSubmit] Setting updateLoading to false.\");\r\n      setUpdateLoading(false); // <<< Stop loading indicator\r\n    }\r\n  };\r\n\r\n  // --- Logout ---\r\n  const handleLogout = () => {\r\n    if (window.confirm(\"Biztosan ki szeretne lépni?\")) {\r\n      contextLogout();\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  // --- Cancel Edit ---\r\n  const handleCancelEdit = () => {\r\n    setEditing(false);\r\n    if (user) initializeForm(user);\r\n    setUpdateError(\"\");\r\n    setValidationErrors({});\r\n    setUpdateSuccess(\"\");\r\n  };\r\n\r\n  // --- Image Error Handler (Memoized) ---\r\n  const handleImageError = useCallback(\r\n    (e) => {\r\n      console.warn(\"Image onError triggered for src:\", e.target.src);\r\n      // Check if placeholder image is available AND if the current src is not already the placeholder\r\n      if (placeholderImage && e.target.src !== placeholderImage) {\r\n        e.target.src = placeholderImage;\r\n      } else {\r\n        // If placeholder is not available or it's already the source that failed\r\n        console.error(\"Placeholder image failed or is missing. Hiding image.\");\r\n        e.target.style.display = \"none\"; // Hide the image element\r\n      }\r\n    },\r\n    [placeholderImage]\r\n  ); // Depend on placeholderImage variable\r\n\r\n  // --- Render Logic ---\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container text-center p-5\">\r\n        <div className=\"spinner-border text-primary\" role=\"status\">\r\n          <span className=\"visually-hidden\">Profil betöltése...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isLoggedIn || !user) {\r\n    return (\r\n      <div className=\"container py-5 text-center\">\r\n        <p className=\"text-danger\">\r\n          {error || \"A profil megtekintéséhez be kell jelentkezni.\"}\r\n        </p>\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          onClick={() => navigate(\"/bejelentkezes\")}\r\n        >\r\n          Bejelentkezés\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Determine image source AFTER user state is confirmed non-null\r\n  // Use optional chaining just in case user becomes null temporarily\r\n  const displayImageUrl = user?.profile_picture_url || placeholderImage;\r\n\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <div className=\"profile-card card shadow-sm\">\r\n        <div className=\"card-body\">\r\n          <h1 className=\"profile-title card-title text-center mb-4\">Profil</h1>\r\n\r\n          {/* Messages */}\r\n          {updateSuccess && (\r\n            <div\r\n              className=\"alert alert-success alert-dismissible fade show small\"\r\n              role=\"alert\"\r\n            >\r\n              {updateSuccess}\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close btn-sm\"\r\n                onClick={() => setUpdateSuccess(\"\")}\r\n                aria-label=\"Bezár\"\r\n              ></button>\r\n            </div>\r\n          )}\r\n          {updateError && (\r\n            <div\r\n              className=\"alert alert-danger alert-dismissible fade show small\"\r\n              role=\"alert\"\r\n            >\r\n              {updateError}\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close btn-sm\"\r\n                onClick={() => setUpdateError(\"\")}\r\n                aria-label=\"Bezár\"\r\n              ></button>\r\n            </div>\r\n          )}\r\n          {error && !editing && (\r\n            <div className=\"alert alert-warning text-center small\">{error}</div>\r\n          )}\r\n\r\n          <div className=\"profile-content\">\r\n            {/* Image Section */}\r\n            <div className=\"profile-image-section text-center mb-4\">\r\n              <img\r\n                src={displayImageUrl} // Use derived variable\r\n                alt={`${user.name || \"Felhasználó\"} profilképe`}\r\n                className=\"profile-image rounded-circle border\"\r\n                key={displayImageUrl} // Helps React detect src change\r\n                onError={handleImageError} // Attach error handler\r\n                style={{\r\n                  width: \"150px\",\r\n                  height: \"150px\",\r\n                  objectFit: \"cover\",\r\n                  backgroundColor: \"#eee\",\r\n                }} // Add bg color\r\n              />\r\n            </div>\r\n\r\n            {/* Details / Form Section */}\r\n            <h3 className=\"profile-subtitle h5 text-center text-muted mb-3\">\r\n              Felhasználói adatok\r\n            </h3>\r\n            {!editing ? (\r\n              // --- Display Mode ---\r\n              <div className=\"profile-details text-center\">\r\n                <p>\r\n                  <strong>Név:</strong> {user.name}\r\n                </p>\r\n                <p>\r\n                  <strong>Email:</strong> {user.email}\r\n                </p>\r\n                <p>\r\n                  <strong>Telefonszám:</strong> {user.phone || \"Nincs megadva\"}\r\n                </p>\r\n                <p>\r\n                  <small className=\"text-muted\">\r\n                    Regisztráció:{\" \"}\r\n                    {user.created_at\r\n                      ? new Date(user.created_at).toLocaleDateString(\"hu-HU\")\r\n                      : \"Ismeretlen\"}\r\n                  </small>\r\n                </p>\r\n                <div className=\"profile-actions mt-4 d-flex justify-content-center gap-2\">\r\n                  <button\r\n                    className=\"btn btn-outline-primary btn-sm\"\r\n                    onClick={() => setEditing(true)}\r\n                    disabled={updateLoading}\r\n                  >\r\n                    Adatok szerkesztése\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-outline-danger btn-sm\"\r\n                    onClick={handleLogout}\r\n                    disabled={updateLoading}\r\n                  >\r\n                    Kilépés\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              // --- Editing Mode ---\r\n              <form id=\"profileForm\" onSubmit={handleEditSubmit} noValidate>\r\n                {/* Name */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"editName\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Név\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.name ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"editName\"\r\n                    value={newName}\r\n                    onChange={(e) => setNewName(e.target.value)}\r\n                    required\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.name && (\r\n                    <div className=\"invalid-feedback small\">\r\n                      {validationErrors.name}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {/* Email */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"editEmail\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Email cím\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.email ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"editEmail\"\r\n                    value={newEmail}\r\n                    onChange={(e) => setNewEmail(e.target.value)}\r\n                    required\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.email && (\r\n                    <div className=\"invalid-feedback small\">\r\n                      {validationErrors.email}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {/* Phone */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"editPhoneNumber\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Telefonszám\r\n                  </label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.phoneNumber ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"editPhoneNumber\"\r\n                    value={phoneNumber}\r\n                    onChange={(e) => setPhoneNumber(e.target.value)}\r\n                    placeholder=\"Opcionális\"\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.phoneNumber && (\r\n                    <div className=\"invalid-feedback small\">\r\n                      {validationErrors.phoneNumber}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {/* Profile Image URL */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"profileImageUrl\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Profilkép URL\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.imageUrl ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"profileImageUrl\"\r\n                    value={imageUrl}\r\n                    onChange={(e) => setImageUrl(e.target.value)}\r\n                    placeholder=\"https://kep.url/profil.jpg (Opcionális)\"\r\n                    aria-describedby=\"imageUrlHelp imageUrlError\"\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.imageUrl && (\r\n                    <div id=\"imageUrlError\" className=\"invalid-feedback small\">\r\n                      {validationErrors.imageUrl}\r\n                    </div>\r\n                  )}\r\n                  <div id=\"imageUrlHelp\" className=\"form-text small text-muted\">\r\n                    Add meg a kép teljes URL-jét, vagy hagyd üresen a törléshez.\r\n                  </div>\r\n                </div>\r\n                {/* Password */}\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"editPassword\"\r\n                    className=\"form-label form-label-sm\"\r\n                  >\r\n                    Új jelszó\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    className={`form-control form-control-sm ${\r\n                      validationErrors.password ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                    id=\"editPassword\"\r\n                    value={newPassword}\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                    placeholder=\"Minimum 6 karakter\"\r\n                    aria-describedby=\"passwordHelp\"\r\n                    disabled={updateLoading}\r\n                  />\r\n                  {validationErrors.password && (\r\n                    <div className=\"invalid-feedback small\">\r\n                      {validationErrors.password}\r\n                    </div>\r\n                  )}\r\n                  <div id=\"passwordHelp\" className=\"form-text small text-muted\">\r\n                    Hagyd üresen, ha nem akarod megváltoztatni.\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Buttons */}\r\n                <div className=\"profile-actions mt-4 d-flex justify-content-center gap-2\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary btn-sm\"\r\n                    disabled={updateLoading}\r\n                  >\r\n                    {updateLoading ? (\r\n                      <>\r\n                        <span\r\n                          className=\"spinner-border spinner-border-sm me-1\"\r\n                          role=\"status\"\r\n                          aria-hidden=\"true\"\r\n                        ></span>\r\n                        Mentés...\r\n                      </>\r\n                    ) : (\r\n                      \"Módosítások Mentése\"\r\n                    )}\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-secondary btn-sm\"\r\n                    onClick={handleCancelEdit}\r\n                    disabled={updateLoading}\r\n                  >\r\n                    Mégse\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}