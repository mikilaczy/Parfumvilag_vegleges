{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KomPhone\\\\Desktop\\\\Parfumvilag_vegleges\\\\Parfumvilag_2.0\\\\frontend\\\\src\\\\components\\\\Sidebar.js\",\n  _s = $RefreshSig$();\n// src/components/Sidebar.js\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { useSearchParams } from \"react-router-dom\"; // Csak useSearchParams kell\nimport { getPriceRange } from \"../services/perfumeService\"; // Szükséges a getPriceRange\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Sidebar = () => {\n  _s();\n  // Hookok\n  const [searchParams, setSearchParams] = useSearchParams();\n  // const navigate = useNavigate(); // Valószínűleg nem kell\n\n  // State inicializálása - Stringekkel a konzisztencia érdekében\n  const [brandFilter, setBrandFilter] = useState(searchParams.get(\"brand\") || \"\");\n  const [scentFilter, setScentFilter] = useState(searchParams.get(\"note\") || \"\");\n  const [genderFilter, setGenderFilter] = useState(searchParams.get(\"gender\") || \"\");\n  const [sortOption, setSortOption] = useState(searchParams.get(\"sort\") || \"name-asc\");\n  const [minPriceFilter, setMinPriceFilter] = useState(searchParams.get(\"min_price\") || \"\");\n  const [maxPriceFilter, setMaxPriceFilter] = useState(searchParams.get(\"max_price\") || \"\");\n\n  // Adatok és állapotok\n  const [brands, setBrands] = useState([]);\n  const [notes, setNotes] = useState([]);\n  const [error, setError] = useState(null);\n  const [priceRange, setPriceRange] = useState({\n    min: 0,\n    max: 100000\n  });\n  const [actualMin, setActualMin] = useState(0);\n  const [actualMax, setActualMax] = useState(100000);\n\n  // UI állapotok\n  const [isOpen, setIsOpen] = useState(window.innerWidth > 991); // Desktopon nyitva kezdjen\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const [brandSearchTerm, setBrandSearchTerm] = useState(\"\");\n  const [noteSearchTerm, setNoteSearchTerm] = useState(\"\");\n\n  // Fetch data effect (brands, notes, price range)\n  useEffect(() => {\n    setError(null);\n    let isMounted = true;\n\n    // Fetch Brands\n    fetch(\"http://localhost:5000/api/brands\").then(res => res.ok ? res.json() : Promise.reject(\"Brands fetch failed\")).then(data => isMounted && setBrands(Array.isArray(data) ? data : [])).catch(err => {\n      console.error(\"Hiba a márkák betöltésekor:\", err);\n      if (isMounted) setError(prev => (prev ? prev + \"\\n\" : \"\") + \"Márkák betöltése sikertelen.\");\n    });\n\n    // Fetch Notes\n    fetch(\"http://localhost:5000/api/notes\").then(res => res.ok ? res.json() : Promise.reject(\"Notes fetch failed\")).then(data => isMounted && setNotes(Array.isArray(data) ? data : [])).catch(err => {\n      console.error(\"Hiba az illatjegyek betöltésekor:\", err);\n      if (isMounted) setError(prev => (prev ? prev + \"\\n\" : \"\") + \"Illatjegyek betöltése sikertelen.\");\n    });\n\n    // Fetch Price Range\n    getPriceRange().then(rangeData => {\n      if (isMounted) {\n        const min = rangeData.minPrice || 0;\n        const max = rangeData.maxPrice || 100000;\n        setPriceRange({\n          min,\n          max\n        });\n        setActualMin(min);\n        setActualMax(max);\n        // Kezdőértékek beállítása a betöltött range és URL alapján\n        const urlMin = searchParams.get(\"min_price\");\n        const urlMax = searchParams.get(\"max_price\");\n        // Fontos: Stringként állítjuk be, mert az input value stringet vár\n        setMinPriceFilter(urlMin !== null ? urlMin : String(min));\n        setMaxPriceFilter(urlMax !== null ? urlMax : String(max));\n      }\n    }).catch(err => {\n      console.error(\"Failed to load price range, using defaults.\", err);\n      if (isMounted) {\n        setError(prev => (prev ? prev + \"\\n\" : \"\") + \"Árintervallum betöltése sikertelen.\");\n        // Hiba esetén is próbáljuk beállítani a filtereket (URL vagy default)\n        const urlMin = searchParams.get(\"min_price\");\n        const urlMax = searchParams.get(\"max_price\");\n        setMinPriceFilter(urlMin !== null ? urlMin : String(priceRange.min)); // priceRange defaultot használunk\n        setMaxPriceFilter(urlMax !== null ? urlMax : String(priceRange.max));\n      }\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, []); // Csak mountkor fusson\n\n  // Handle window resize effect\n  useEffect(() => {\n    const handleResize = () => {\n      const currentWidth = window.innerWidth;\n      setWindowWidth(currentWidth);\n      // Sidebar automatikus nyitása/zárása átméretezéskor\n      if (currentWidth > 991) {\n        setIsOpen(true); // Desktop nézetben legyen nyitva\n      } else {\n        // Mobilon hagyjuk az aktuális állapotot, hacsak nem volt épp nyitva és átméreteztük desktopra\n        // Ezt a részt finomítani lehetne, de a toggle gomb a fő vezérlő mobilon\n      }\n    };\n    window.addEventListener(\"resize\", handleResize);\n    // Kezdő állapot beállítása\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  // Memoized filtered lists for dropdowns\n  const filteredBrands = useMemo(() => {\n    if (!brandSearchTerm) return brands;\n    return brands.filter(brand => brand.name.toLowerCase().includes(brandSearchTerm.toLowerCase()));\n  }, [brands, brandSearchTerm]);\n  const filteredNotes = useMemo(() => {\n    if (!noteSearchTerm) return notes;\n    return notes.filter(note => note.name.toLowerCase().includes(noteSearchTerm.toLowerCase()));\n  }, [notes, noteSearchTerm]);\n\n  // Update URL search params on filter/sort change\n  const applyFilters = () => {\n    const queryParams = new URLSearchParams(); // Mindig újraépítjük\n\n    // Rendezés (csak ha nem az alapértelmezett)\n    if (sortOption && sortOption !== \"name-asc\") {\n      queryParams.set(\"sort\", sortOption);\n    }\n\n    // Oldalszám mindig 1 új szűrésnél/rendezésnél\n    queryParams.set(\"page\", \"1\");\n\n    // Aktív szűrők hozzáadása\n    if (brandFilter) queryParams.set(\"brand\", brandFilter);\n    if (scentFilter) queryParams.set(\"note\", scentFilter);\n    if (genderFilter) queryParams.set(\"gender\", genderFilter);\n\n    // Árszűrők hozzáadása, ha érvényesek és *különböznek* az aktuális min/max-tól\n    // Ez megakadályozza a felesleges paramétereket, ha a csúszka a végállásban van\n    const minVal = parseFloat(minPriceFilter);\n    const maxVal = parseFloat(maxPriceFilter);\n    if (!isNaN(minVal) && minVal > actualMin) {\n      queryParams.set(\"min_price\", String(minVal));\n    }\n    if (!isNaN(maxVal) && maxVal < actualMax) {\n      queryParams.set(\"max_price\", String(maxVal));\n    }\n    console.log(\"Setting search params:\", queryParams.toString());\n    setSearchParams(queryParams); // URL frissítése\n\n    // Sidebar bezárása mobilon\n    if (windowWidth <= 991) setIsOpen(false);\n  };\n\n  // Clear all filters and reset URL\n  const clearFilters = () => {\n    // Reset state\n    setBrandFilter(\"\");\n    setScentFilter(\"\");\n    setGenderFilter(\"\");\n    setSortOption(\"name-asc\");\n    setMinPriceFilter(String(actualMin)); // Vissza a betöltött min-re\n    setMaxPriceFilter(String(actualMax)); // Vissza a betöltött max-ra\n    setBrandSearchTerm(\"\");\n    setNoteSearchTerm(\"\");\n\n    // Reset URL (csak page=1)\n    const queryParams = new URLSearchParams({\n      page: \"1\"\n    });\n    console.log(\"Clearing filters, setting search params:\", queryParams.toString());\n    setSearchParams(queryParams);\n    if (windowWidth <= 991) setIsOpen(false);\n  };\n\n  // Toggle sidebar visibility on mobile\n  const toggleSidebar = () => setIsOpen(!isOpen);\n\n  // Dynamic sidebar class\n  const sidebarClass = `sidebar d-flex flex-column ${windowWidth <= 991 && !isOpen ? \"hidden\" : \"\"}`;\n\n  // Slider input handlers to ensure min <= max\n  const handleMinPriceChange = e => {\n    const newVal = parseInt(e.target.value, 10);\n    const currentMax = parseInt(maxPriceFilter || actualMax, 10);\n    // Set min to the new value, but not higher than current max\n    setMinPriceFilter(String(Math.min(newVal, currentMax)));\n  };\n  const handleMaxPriceChange = e => {\n    const newVal = parseInt(e.target.value, 10);\n    const currentMin = parseInt(minPriceFilter || actualMin, 10);\n    // Set max to the new value, but not lower than current min\n    setMaxPriceFilter(String(Math.max(newVal, currentMin)));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [windowWidth <= 991 && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"filter-toggle btn btn-sm btn-primary shadow-sm\",\n      onClick: toggleSidebar,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: `fas ${isOpen ? \"fa-times\" : \"fa-filter\"} me-1`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this), isOpen ? \"Bezárás\" : \"Szűrők\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: sidebarClass,\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"mb-3 border-bottom pb-2\",\n        children: \"Sz\\u0171r\\u0151k \\xE9s Rendez\\xE9s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-warning small p-2\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"sort\",\n          className: \"form-label form-label-sm\",\n          children: \"Rendez\\xE9s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"sort\",\n          className: \"form-select form-select-sm\",\n          value: sortOption,\n          onChange: e => setSortOption(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"name-asc\",\n            children: \"N\\xE9v (A-Z)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"name-desc\",\n            children: \"N\\xE9v (Z-A)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"price-asc\",\n            children: \"\\xC1r (n\\xF6vekv\\u0151)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"price-desc\",\n            children: \"\\xC1r (cs\\xF6kken\\u0151)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"minPrice\",\n          className: \"form-label form-label-sm d-block\",\n          children: [\" \", \"Min \\xC1r:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fw-bold\",\n            children: [Number(minPriceFilter || actualMin).toLocaleString(\"hu-HU\"), \" Ft\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          className: \"form-range\",\n          id: \"minPrice\",\n          min: actualMin,\n          max: actualMax,\n          step: \"1000\" // Lehet dinamikusabb lépésköz is\n          ,\n          value: minPriceFilter || actualMin,\n          onChange: handleMinPriceChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"maxPrice\",\n          className: \"form-label form-label-sm d-block\",\n          children: [\"Max \\xC1r:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fw-bold\",\n            children: [Number(maxPriceFilter || actualMax).toLocaleString(\"hu-HU\"), \" Ft\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          className: \"form-range\",\n          id: \"maxPrice\",\n          min: actualMin,\n          max: actualMax,\n          step: \"1000\",\n          value: maxPriceFilter || actualMax,\n          onChange: handleMaxPriceChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 filter-dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"brand\",\n          className: \"form-label form-label-sm\",\n          children: \"M\\xE1rka\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control form-control-sm mb-1\",\n          placeholder: \"M\\xE1rka keres\\xE9se...\",\n          value: brandSearchTerm,\n          onChange: e => setBrandSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"brand\",\n          className: \"form-select form-select-sm\",\n          value: brandFilter,\n          onChange: e => setBrandFilter(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\xD6sszes m\\xE1rka\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), filteredBrands.map(brand => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: brand.name,\n            children: brand.name\n          }, brand.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)), brands.length > 0 && filteredBrands.length === 0 && brandSearchTerm && /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            children: \"Nincs tal\\xE1lat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 filter-dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"scent\",\n          className: \"form-label form-label-sm\",\n          children: \"Illatjegy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control form-control-sm mb-1\",\n          placeholder: \"Illatjegy keres\\xE9se...\",\n          value: noteSearchTerm,\n          onChange: e => setNoteSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"scent\",\n          className: \"form-select form-select-sm\",\n          value: scentFilter,\n          onChange: e => setScentFilter(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\xD6sszes illatjegy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), filteredNotes.map(note => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: note.name,\n            children: note.name\n          }, note.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this)), notes.length > 0 && filteredNotes.length === 0 && noteSearchTerm && /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            children: \"Nincs tal\\xE1lat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"gender\",\n          className: \"form-label form-label-sm\",\n          children: \"Nem\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"gender\",\n          className: \"form-select form-select-sm\",\n          value: genderFilter,\n          onChange: e => setGenderFilter(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\xD6sszes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"male\",\n            children: \"F\\xE9rfi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"female\",\n            children: \"N\\u0151i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"unisex\",\n            children: \"Unisex\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-auto pt-3 border-top\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-sm w-100 mb-2\",\n          onClick: applyFilters,\n          children: \"Sz\\u0171r\\xE9s \\xE9s Rendez\\xE9s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-secondary btn-sm w-100\",\n          onClick: clearFilters,\n          children: \"Sz\\u0171r\\u0151k t\\xF6rl\\xE9se\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Sidebar, \"qWgXc8gX2QaZ5X6jdf00w/BsTW8=\", false, function () {\n  return [useSearchParams];\n});\n_c = Sidebar;\nexport default Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useSearchParams","getPriceRange","jsxDEV","_jsxDEV","Fragment","_Fragment","Sidebar","_s","searchParams","setSearchParams","brandFilter","setBrandFilter","get","scentFilter","setScentFilter","genderFilter","setGenderFilter","sortOption","setSortOption","minPriceFilter","setMinPriceFilter","maxPriceFilter","setMaxPriceFilter","brands","setBrands","notes","setNotes","error","setError","priceRange","setPriceRange","min","max","actualMin","setActualMin","actualMax","setActualMax","isOpen","setIsOpen","window","innerWidth","windowWidth","setWindowWidth","brandSearchTerm","setBrandSearchTerm","noteSearchTerm","setNoteSearchTerm","isMounted","fetch","then","res","ok","json","Promise","reject","data","Array","isArray","catch","err","console","prev","rangeData","minPrice","maxPrice","urlMin","urlMax","String","handleResize","currentWidth","addEventListener","removeEventListener","filteredBrands","filter","brand","name","toLowerCase","includes","filteredNotes","note","applyFilters","queryParams","URLSearchParams","set","minVal","parseFloat","maxVal","isNaN","log","toString","clearFilters","page","toggleSidebar","sidebarClass","handleMinPriceChange","e","newVal","parseInt","target","value","currentMax","Math","handleMaxPriceChange","currentMin","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","onChange","Number","toLocaleString","type","step","placeholder","map","length","disabled","_c","$RefreshReg$"],"sources":["C:/Users/KomPhone/Desktop/Parfumvilag_vegleges/Parfumvilag_2.0/frontend/src/components/Sidebar.js"],"sourcesContent":["// src/components/Sidebar.js\r\nimport React, { useState, useEffect, useMemo } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\"; // Csak useSearchParams kell\r\nimport { getPriceRange } from \"../services/perfumeService\"; // Szükséges a getPriceRange\r\n\r\nconst Sidebar = () => {\r\n  // Hookok\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  // const navigate = useNavigate(); // Valószínűleg nem kell\r\n\r\n  // State inicializálása - Stringekkel a konzisztencia érdekében\r\n  const [brandFilter, setBrandFilter] = useState(\r\n    searchParams.get(\"brand\") || \"\"\r\n  );\r\n  const [scentFilter, setScentFilter] = useState(\r\n    searchParams.get(\"note\") || \"\"\r\n  );\r\n  const [genderFilter, setGenderFilter] = useState(\r\n    searchParams.get(\"gender\") || \"\"\r\n  );\r\n  const [sortOption, setSortOption] = useState(\r\n    searchParams.get(\"sort\") || \"name-asc\"\r\n  );\r\n  const [minPriceFilter, setMinPriceFilter] = useState(\r\n    searchParams.get(\"min_price\") || \"\"\r\n  );\r\n  const [maxPriceFilter, setMaxPriceFilter] = useState(\r\n    searchParams.get(\"max_price\") || \"\"\r\n  );\r\n\r\n  // Adatok és állapotok\r\n  const [brands, setBrands] = useState([]);\r\n  const [notes, setNotes] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [priceRange, setPriceRange] = useState({ min: 0, max: 100000 });\r\n  const [actualMin, setActualMin] = useState(0);\r\n  const [actualMax, setActualMax] = useState(100000);\r\n\r\n  // UI állapotok\r\n  const [isOpen, setIsOpen] = useState(window.innerWidth > 991); // Desktopon nyitva kezdjen\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n  const [brandSearchTerm, setBrandSearchTerm] = useState(\"\");\r\n  const [noteSearchTerm, setNoteSearchTerm] = useState(\"\");\r\n\r\n  // Fetch data effect (brands, notes, price range)\r\n  useEffect(() => {\r\n    setError(null);\r\n    let isMounted = true;\r\n\r\n    // Fetch Brands\r\n    fetch(\"http://localhost:5000/api/brands\")\r\n      .then((res) =>\r\n        res.ok ? res.json() : Promise.reject(\"Brands fetch failed\")\r\n      )\r\n      .then((data) => isMounted && setBrands(Array.isArray(data) ? data : []))\r\n      .catch((err) => {\r\n        console.error(\"Hiba a márkák betöltésekor:\", err);\r\n        if (isMounted)\r\n          setError(\r\n            (prev) => (prev ? prev + \"\\n\" : \"\") + \"Márkák betöltése sikertelen.\"\r\n          );\r\n      });\r\n\r\n    // Fetch Notes\r\n    fetch(\"http://localhost:5000/api/notes\")\r\n      .then((res) =>\r\n        res.ok ? res.json() : Promise.reject(\"Notes fetch failed\")\r\n      )\r\n      .then((data) => isMounted && setNotes(Array.isArray(data) ? data : []))\r\n      .catch((err) => {\r\n        console.error(\"Hiba az illatjegyek betöltésekor:\", err);\r\n        if (isMounted)\r\n          setError(\r\n            (prev) =>\r\n              (prev ? prev + \"\\n\" : \"\") + \"Illatjegyek betöltése sikertelen.\"\r\n          );\r\n      });\r\n\r\n    // Fetch Price Range\r\n    getPriceRange()\r\n      .then((rangeData) => {\r\n        if (isMounted) {\r\n          const min = rangeData.minPrice || 0;\r\n          const max = rangeData.maxPrice || 100000;\r\n          setPriceRange({ min, max });\r\n          setActualMin(min);\r\n          setActualMax(max);\r\n          // Kezdőértékek beállítása a betöltött range és URL alapján\r\n          const urlMin = searchParams.get(\"min_price\");\r\n          const urlMax = searchParams.get(\"max_price\");\r\n          // Fontos: Stringként állítjuk be, mert az input value stringet vár\r\n          setMinPriceFilter(urlMin !== null ? urlMin : String(min));\r\n          setMaxPriceFilter(urlMax !== null ? urlMax : String(max));\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Failed to load price range, using defaults.\", err);\r\n        if (isMounted) {\r\n          setError(\r\n            (prev) =>\r\n              (prev ? prev + \"\\n\" : \"\") + \"Árintervallum betöltése sikertelen.\"\r\n          );\r\n          // Hiba esetén is próbáljuk beállítani a filtereket (URL vagy default)\r\n          const urlMin = searchParams.get(\"min_price\");\r\n          const urlMax = searchParams.get(\"max_price\");\r\n          setMinPriceFilter(urlMin !== null ? urlMin : String(priceRange.min)); // priceRange defaultot használunk\r\n          setMaxPriceFilter(urlMax !== null ? urlMax : String(priceRange.max));\r\n        }\r\n      });\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []); // Csak mountkor fusson\r\n\r\n  // Handle window resize effect\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const currentWidth = window.innerWidth;\r\n      setWindowWidth(currentWidth);\r\n      // Sidebar automatikus nyitása/zárása átméretezéskor\r\n      if (currentWidth > 991) {\r\n        setIsOpen(true); // Desktop nézetben legyen nyitva\r\n      } else {\r\n        // Mobilon hagyjuk az aktuális állapotot, hacsak nem volt épp nyitva és átméreteztük desktopra\r\n        // Ezt a részt finomítani lehetne, de a toggle gomb a fő vezérlő mobilon\r\n      }\r\n    };\r\n    window.addEventListener(\"resize\", handleResize);\r\n    // Kezdő állapot beállítása\r\n    handleResize();\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  // Memoized filtered lists for dropdowns\r\n  const filteredBrands = useMemo(() => {\r\n    if (!brandSearchTerm) return brands;\r\n    return brands.filter((brand) =>\r\n      brand.name.toLowerCase().includes(brandSearchTerm.toLowerCase())\r\n    );\r\n  }, [brands, brandSearchTerm]);\r\n\r\n  const filteredNotes = useMemo(() => {\r\n    if (!noteSearchTerm) return notes;\r\n    return notes.filter((note) =>\r\n      note.name.toLowerCase().includes(noteSearchTerm.toLowerCase())\r\n    );\r\n  }, [notes, noteSearchTerm]);\r\n\r\n  // Update URL search params on filter/sort change\r\n  const applyFilters = () => {\r\n    const queryParams = new URLSearchParams(); // Mindig újraépítjük\r\n\r\n    // Rendezés (csak ha nem az alapértelmezett)\r\n    if (sortOption && sortOption !== \"name-asc\") {\r\n      queryParams.set(\"sort\", sortOption);\r\n    }\r\n\r\n    // Oldalszám mindig 1 új szűrésnél/rendezésnél\r\n    queryParams.set(\"page\", \"1\");\r\n\r\n    // Aktív szűrők hozzáadása\r\n    if (brandFilter) queryParams.set(\"brand\", brandFilter);\r\n    if (scentFilter) queryParams.set(\"note\", scentFilter);\r\n    if (genderFilter) queryParams.set(\"gender\", genderFilter);\r\n\r\n    // Árszűrők hozzáadása, ha érvényesek és *különböznek* az aktuális min/max-tól\r\n    // Ez megakadályozza a felesleges paramétereket, ha a csúszka a végállásban van\r\n    const minVal = parseFloat(minPriceFilter);\r\n    const maxVal = parseFloat(maxPriceFilter);\r\n    if (!isNaN(minVal) && minVal > actualMin) {\r\n      queryParams.set(\"min_price\", String(minVal));\r\n    }\r\n    if (!isNaN(maxVal) && maxVal < actualMax) {\r\n      queryParams.set(\"max_price\", String(maxVal));\r\n    }\r\n\r\n    console.log(\"Setting search params:\", queryParams.toString());\r\n    setSearchParams(queryParams); // URL frissítése\r\n\r\n    // Sidebar bezárása mobilon\r\n    if (windowWidth <= 991) setIsOpen(false);\r\n  };\r\n\r\n  // Clear all filters and reset URL\r\n  const clearFilters = () => {\r\n    // Reset state\r\n    setBrandFilter(\"\");\r\n    setScentFilter(\"\");\r\n    setGenderFilter(\"\");\r\n    setSortOption(\"name-asc\");\r\n    setMinPriceFilter(String(actualMin)); // Vissza a betöltött min-re\r\n    setMaxPriceFilter(String(actualMax)); // Vissza a betöltött max-ra\r\n    setBrandSearchTerm(\"\");\r\n    setNoteSearchTerm(\"\");\r\n\r\n    // Reset URL (csak page=1)\r\n    const queryParams = new URLSearchParams({ page: \"1\" });\r\n\r\n    console.log(\r\n      \"Clearing filters, setting search params:\",\r\n      queryParams.toString()\r\n    );\r\n    setSearchParams(queryParams);\r\n\r\n    if (windowWidth <= 991) setIsOpen(false);\r\n  };\r\n\r\n  // Toggle sidebar visibility on mobile\r\n  const toggleSidebar = () => setIsOpen(!isOpen);\r\n\r\n  // Dynamic sidebar class\r\n  const sidebarClass = `sidebar d-flex flex-column ${\r\n    windowWidth <= 991 && !isOpen ? \"hidden\" : \"\"\r\n  }`;\r\n\r\n  // Slider input handlers to ensure min <= max\r\n  const handleMinPriceChange = (e) => {\r\n    const newVal = parseInt(e.target.value, 10);\r\n    const currentMax = parseInt(maxPriceFilter || actualMax, 10);\r\n    // Set min to the new value, but not higher than current max\r\n    setMinPriceFilter(String(Math.min(newVal, currentMax)));\r\n  };\r\n\r\n  const handleMaxPriceChange = (e) => {\r\n    const newVal = parseInt(e.target.value, 10);\r\n    const currentMin = parseInt(minPriceFilter || actualMin, 10);\r\n    // Set max to the new value, but not lower than current min\r\n    setMaxPriceFilter(String(Math.max(newVal, currentMin)));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Toggle Button (Mobile) */}\r\n      {windowWidth <= 991 && (\r\n        <button\r\n          className=\"filter-toggle btn btn-sm btn-primary shadow-sm\"\r\n          onClick={toggleSidebar}\r\n        >\r\n          <i className={`fas ${isOpen ? \"fa-times\" : \"fa-filter\"} me-1`}></i>\r\n          {isOpen ? \"Bezárás\" : \"Szűrők\"}\r\n        </button>\r\n      )}\r\n\r\n      {/* Sidebar Content */}\r\n      <div className={sidebarClass}>\r\n        <h5 className=\"mb-3 border-bottom pb-2\">Szűrők és Rendezés</h5>\r\n        {error && <div className=\"alert alert-warning small p-2\">{error}</div>}\r\n\r\n        {/* Sort */}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"sort\" className=\"form-label form-label-sm\">\r\n            Rendezés\r\n          </label>\r\n          <select\r\n            id=\"sort\"\r\n            className=\"form-select form-select-sm\"\r\n            value={sortOption}\r\n            onChange={(e) => setSortOption(e.target.value)}\r\n          >\r\n            <option value=\"name-asc\">Név (A-Z)</option>\r\n            <option value=\"name-desc\">Név (Z-A)</option>\r\n            <option value=\"price-asc\">Ár (növekvő)</option>\r\n            <option value=\"price-desc\">Ár (csökkenő)</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Price Range Sliders */}\r\n        <div className=\"mb-3\">\r\n          <label\r\n            htmlFor=\"minPrice\"\r\n            className=\"form-label form-label-sm d-block\"\r\n          >\r\n            {\" \"}\r\n            {/* d-block a jobb törésért */}\r\n            Min Ár:{\" \"}\r\n            <span className=\"fw-bold\">\r\n              {Number(minPriceFilter || actualMin).toLocaleString(\"hu-HU\")} Ft\r\n            </span>\r\n          </label>\r\n          <input\r\n            type=\"range\"\r\n            className=\"form-range\"\r\n            id=\"minPrice\"\r\n            min={actualMin}\r\n            max={actualMax}\r\n            step=\"1000\" // Lehet dinamikusabb lépésköz is\r\n            value={minPriceFilter || actualMin}\r\n            onChange={handleMinPriceChange}\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          {\" \"}\r\n          {/* Nagyobb térköz az ár után */}\r\n          <label\r\n            htmlFor=\"maxPrice\"\r\n            className=\"form-label form-label-sm d-block\"\r\n          >\r\n            Max Ár:{\" \"}\r\n            <span className=\"fw-bold\">\r\n              {Number(maxPriceFilter || actualMax).toLocaleString(\"hu-HU\")} Ft\r\n            </span>\r\n          </label>\r\n          <input\r\n            type=\"range\"\r\n            className=\"form-range\"\r\n            id=\"maxPrice\"\r\n            min={actualMin}\r\n            max={actualMax}\r\n            step=\"1000\"\r\n            value={maxPriceFilter || actualMax}\r\n            onChange={handleMaxPriceChange}\r\n          />\r\n        </div>\r\n\r\n        {/* Brand Filter */}\r\n        <div className=\"mb-3 filter-dropdown\">\r\n          <label htmlFor=\"brand\" className=\"form-label form-label-sm\">\r\n            Márka\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control form-control-sm mb-1\"\r\n            placeholder=\"Márka keresése...\"\r\n            value={brandSearchTerm}\r\n            onChange={(e) => setBrandSearchTerm(e.target.value)}\r\n          />\r\n          <select\r\n            id=\"brand\"\r\n            className=\"form-select form-select-sm\"\r\n            value={brandFilter}\r\n            onChange={(e) => setBrandFilter(e.target.value)}\r\n          >\r\n            <option value=\"\">Összes márka</option>\r\n            {filteredBrands.map((brand) => (\r\n              <option key={brand.id} value={brand.name}>\r\n                {brand.name}\r\n              </option>\r\n            ))}\r\n            {brands.length > 0 &&\r\n              filteredBrands.length === 0 &&\r\n              brandSearchTerm && (\r\n                <option value=\"\" disabled>\r\n                  Nincs találat\r\n                </option>\r\n              )}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Scent (Note) Filter */}\r\n        <div className=\"mb-3 filter-dropdown\">\r\n          <label htmlFor=\"scent\" className=\"form-label form-label-sm\">\r\n            Illatjegy\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control form-control-sm mb-1\"\r\n            placeholder=\"Illatjegy keresése...\"\r\n            value={noteSearchTerm}\r\n            onChange={(e) => setNoteSearchTerm(e.target.value)}\r\n          />\r\n          <select\r\n            id=\"scent\"\r\n            className=\"form-select form-select-sm\"\r\n            value={scentFilter}\r\n            onChange={(e) => setScentFilter(e.target.value)}\r\n          >\r\n            <option value=\"\">Összes illatjegy</option>\r\n            {filteredNotes.map((note) => (\r\n              <option key={note.id} value={note.name}>\r\n                {note.name}\r\n              </option>\r\n            ))}\r\n            {notes.length > 0 &&\r\n              filteredNotes.length === 0 &&\r\n              noteSearchTerm && (\r\n                <option value=\"\" disabled>\r\n                  Nincs találat\r\n                </option>\r\n              )}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Gender Filter */}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"gender\" className=\"form-label form-label-sm\">\r\n            Nem\r\n          </label>\r\n          <select\r\n            id=\"gender\"\r\n            className=\"form-select form-select-sm\"\r\n            value={genderFilter}\r\n            onChange={(e) => setGenderFilter(e.target.value)}\r\n          >\r\n            <option value=\"\">Összes</option>\r\n            <option value=\"male\">Férfi</option>\r\n            <option value=\"female\">Női</option>\r\n            <option value=\"unisex\">Unisex</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"mt-auto pt-3 border-top\">\r\n          {\" \"}\r\n          {/* Alulra igazítás és elválasztó */}\r\n          <button\r\n            className=\"btn btn-primary btn-sm w-100 mb-2\"\r\n            onClick={applyFilters}\r\n          >\r\n            Szűrés és Rendezés\r\n          </button>\r\n          <button\r\n            className=\"btn btn-outline-secondary btn-sm w-100\"\r\n            onClick={clearFilters}\r\n          >\r\n            Szűrők törlése\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}